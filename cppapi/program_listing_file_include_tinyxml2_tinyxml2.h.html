<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Program Listing for File tinyxml2.h &mdash; IntelÂ® GPA Framework  documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/gpa.css" type="text/css" />
      <link rel="stylesheet" href="../_static/collapsible-lists\css\tree_view.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/collapsible-lists\js\CollapsibleLists.compressed.js"></script>
        <script src="../_static/collapsible-lists\js\apply-collapsible-lists.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
     
    <script type="text/javascript">
        //configure tms    
        var wapLocalCode = 'us_en'; //dynamically set per localized site, see mapping table for values
        var wapSection = "gpa-sdk";
        //load tms
        (function() {
            var host = (window.document.location.protocol == 'http:') ? "http://www.intel.com" : "https://www.intel.com";
            var url = host+"/content/dam/www/global/wap/tms-loader.js"; //wap file url
            var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;  po.src = url;
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
        })();
    </script>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

    <form action="https://software.intel.com/en-us/gpa" method="get" target="_blank">
        <button class="download-button" type="submit">Free Download</button>
    </form>
    

          
          
          <a href="../index.html">
            
              <img src="../_static/logo-classicblue-3000px.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Table of Contents</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../src/getting_started.html">Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../src/getting_started.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../src/getting_started.html#layer-framework-primer">Layer Framework Primer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../src/getting_started.html#capture-a-stream">Capture a Stream</a></li>
<li class="toctree-l2"><a class="reference internal" href="../src/getting_started.html#play-back-stream">Play Back Stream</a></li>
<li class="toctree-l2"><a class="reference internal" href="../src/getting_started.html#stack-multiple-layers">Stack Multiple Layers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../src/getting_started.html#next-steps">Next Steps</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../src/guides.html">Guides</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../src/guides/extending_test_layer.html">Extending &quot;Helloworld&quot; Simple Layer</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../src/guides/extending_test_layer.html#layer-anatomy">Layer Anatomy</a></li>
<li class="toctree-l3"><a class="reference internal" href="../src/guides/extending_test_layer.html#api-call-routing">API Call Routing</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../src/samples.html">Samples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../src/samples.html#build-samples">Build Samples</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../src/samples.html#windows">Windows*</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../src/samples.html#available-samples">Available Samples</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../src/samples.html#print-api-log">Print API Log</a></li>
<li class="toctree-l3"><a class="reference internal" href="../src/samples.html#helloworld-simple-layer">'Helloworld' Simple Layer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../src/samples.html#helloworld-generated-layer">'Helloworld' Generated Layer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../src/samples.html#range-player">Range Player</a></li>
<li class="toctree-l3"><a class="reference internal" href="../src/samples.html#buffer-extractor">Buffer Extractor</a></li>
<li class="toctree-l3"><a class="reference internal" href="../src/samples.html#texture-extraction">Texture Extraction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../src/samples.html#sampler-extractor">Sampler Extractor</a></li>
<li class="toctree-l3"><a class="reference internal" href="../src/samples.html#shader-extractor">Shader Extractor</a></li>
<li class="toctree-l3"><a class="reference internal" href="../src/samples.html#disable-call-in-range">Disable Call in Range</a></li>
<li class="toctree-l3"><a class="reference internal" href="../src/samples.html#metrics-collection">Metrics Collection</a></li>
<li class="toctree-l3"><a class="reference internal" href="../src/samples.html#highlighting-experiment">Highlighting Experiment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../src/samples.html#pipeline-experiment">Pipeline Experiment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../src/samples.html#texture-replacement-experiments">Texture Replacement Experiments</a></li>
<li class="toctree-l3"><a class="reference internal" href="../src/samples.html#advanced-stream-playback">Advanced Stream Playback</a></li>
<li class="toctree-l3"><a class="reference internal" href="../src/samples.html#stream-filter">Stream Filter</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../src/reference.html">Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../src/utilities.html">Utilities</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../src/utilities.html#gpa-injector">gpa-injector</a></li>
<li class="toctree-l3"><a class="reference internal" href="../src/utilities.html#gpa-player">gpa-player</a></li>
<li class="toctree-l3"><a class="reference internal" href="../src/utilities.html#gpa-subcapture-recorder">gpa-subcapture-recorder</a></li>
<li class="toctree-l3"><a class="reference internal" href="../src/utilities.html#gpa-stream-info">gpa-stream-info</a></li>
<li class="toctree-l3"><a class="reference internal" href="../src/utilities.html#gpa-stream-analyzer">gpa-stream-analyzer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../src/utilities.html#gpa-cpp-generator">gpa-cpp-generator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../src/utilities.html#gpa-help">gpa-help</a></li>
<li class="toctree-l3"><a class="reference internal" href="../src/utilities.html#gpa-metrics-collector">gpa-metrics-collector</a></li>
<li class="toctree-l3"><a class="reference internal" href="../src/utilities.html#gpa-system-info">gpa-system-info</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../src/layers.html">Layers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../src/layers.html#capture">Capture</a></li>
<li class="toctree-l3"><a class="reference internal" href="../src/layers.html#screenshot">Screenshot</a></li>
<li class="toctree-l3"><a class="reference internal" href="../src/layers.html#hud-layer">HUD-Layer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../src/layers.html#logging">Logging</a></li>
<li class="toctree-l3"><a class="reference internal" href="../src/layers.html#api-debug-layer">API-Debug-Layer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../src/layers.html#device-override">Device-Override</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../src/python.html">Python Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="library_root.html">C++ Interfaces</a><ul>
<li class="toctree-l3"><a class="reference internal" href="library_root.html#page-hierarchy">Page Hierarchy</a></li>
<li class="toctree-l3"><a class="reference internal" href="library_root.html#class-hierarchy">Class Hierarchy</a></li>
<li class="toctree-l3"><a class="reference internal" href="library_root.html#file-hierarchy">File Hierarchy</a></li>
<li class="toctree-l3"><a class="reference internal" href="library_root.html#full-api">Full API</a><ul>
<li class="toctree-l4"><a class="reference internal" href="library_root.html#namespaces">Namespaces</a></li>
<li class="toctree-l4"><a class="reference internal" href="library_root.html#classes-and-structs">Classes and Structs</a></li>
<li class="toctree-l4"><a class="reference internal" href="library_root.html#enums">Enums</a></li>
<li class="toctree-l4"><a class="reference internal" href="library_root.html#unions">Unions</a></li>
<li class="toctree-l4"><a class="reference internal" href="library_root.html#functions">Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="library_root.html#variables">Variables</a></li>
<li class="toctree-l4"><a class="reference internal" href="library_root.html#defines">Defines</a></li>
<li class="toctree-l4"><a class="reference internal" href="library_root.html#typedefs">Typedefs</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../src/features.html">Features</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../src/features.html#capture-and-playback">Capture and Playback</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../src/features.html#basic-capture-and-playback">Basic Capture and Playback</a></li>
<li class="toctree-l3"><a class="reference internal" href="../src/features.html#keyframing-capture">Keyframing Capture</a></li>
<li class="toctree-l3"><a class="reference internal" href="../src/features.html#deferred-capture">Deferred Capture</a></li>
<li class="toctree-l3"><a class="reference internal" href="../src/features.html#range-repeat">Range Repeat</a></li>
<li class="toctree-l3"><a class="reference internal" href="../src/features.html#subcapture">Subcapture</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../src/features.html#stream-analysis">Stream Analysis</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../src/features.html#metric-collection">Metric Collection</a></li>
<li class="toctree-l3"><a class="reference internal" href="../src/features.html#experiments">Experiments</a></li>
<li class="toctree-l3"><a class="reference internal" href="../src/features.html#metadata-extraction">Metadata Extraction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../src/features.html#resource-extraction">Resource Extraction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../src/features.html#api-call-inspection">API Call Inspection</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../src/features.html#layers">Layers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../src/features.html#heads-up-display-hud-layer">Heads-Up Display(HUD) Layer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../src/features.html#screenshot-layer">Screenshot Layer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../src/features.html#logging-layer">Logging Layer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../src/features.html#api-debug-layer">Api Debug Layer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../src/features.html#device-override-layer">Device Override Layer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../src/features.html#custom-user-layers">Custom (User) Layers</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../src/requirements.html">System Requirements</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../src/requirements.html#hardware-requirements">Hardware Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="../src/requirements.html#software-requirements">Software Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="../src/requirements.html#supported-graphics-apis">Supported Graphics APIs</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../src/release_notes.html">Release Notes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../src/release_notes.html#sept-21-2023">2023.3 (Sept 21 2023)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../src/release_notes.html#new">NEW</a></li>
<li class="toctree-l3"><a class="reference internal" href="../src/release_notes.html#changed">CHANGED</a></li>
<li class="toctree-l3"><a class="reference internal" href="../src/release_notes.html#fixed">FIXED</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../src/release_notes.html#june-2023">2023.2 (15 June 2023)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../src/release_notes.html#id2">NEW</a></li>
<li class="toctree-l3"><a class="reference internal" href="../src/release_notes.html#id3">CHANGED</a></li>
<li class="toctree-l3"><a class="reference internal" href="../src/release_notes.html#id4">FIXED</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../src/release_notes.html#march-2023">2023.1 (15 March 2023)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../src/release_notes.html#id5">New</a></li>
<li class="toctree-l3"><a class="reference internal" href="../src/release_notes.html#id6">Changed</a></li>
<li class="toctree-l3"><a class="reference internal" href="../src/release_notes.html#id7">Fixed</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../src/release_notes.html#december-2022">2022.4 (15 December 2022)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../src/release_notes.html#id8">New</a></li>
<li class="toctree-l3"><a class="reference internal" href="../src/release_notes.html#id9">Changed</a></li>
<li class="toctree-l3"><a class="reference internal" href="../src/release_notes.html#id10">Fixed</a></li>
<li class="toctree-l3"><a class="reference internal" href="../src/release_notes.html#deprecated">Deprecated</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../src/release_notes.html#september-2022">2022.3 (15 September 2022)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../src/release_notes.html#id11">New</a></li>
<li class="toctree-l3"><a class="reference internal" href="../src/release_notes.html#id12">Changed</a></li>
<li class="toctree-l3"><a class="reference internal" href="../src/release_notes.html#id13">Fixed</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../src/release_notes.html#june-2022">2022.2 (30 June 2022)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../src/release_notes.html#id14">New</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../src/release_notes.html#march-2022">2022.1 (16 March 2022)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../src/release_notes.html#id15">New</a></li>
<li class="toctree-l3"><a class="reference internal" href="../src/release_notes.html#id16">Fixed</a></li>
<li class="toctree-l3"><a class="reference internal" href="../src/release_notes.html#id17">Changed</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../src/release_notes.html#december-2021">2021.4 (16 December 2021)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../src/release_notes.html#id18">New</a></li>
<li class="toctree-l3"><a class="reference internal" href="../src/release_notes.html#id19">Fixed</a></li>
<li class="toctree-l3"><a class="reference internal" href="../src/release_notes.html#id20">Deprecated</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../src/release_notes.html#september-2021">2021.3 (23 September 2021)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../src/release_notes.html#id21">NEW</a></li>
<li class="toctree-l3"><a class="reference internal" href="../src/release_notes.html#id22">CHANGED</a></li>
<li class="toctree-l3"><a class="reference internal" href="../src/release_notes.html#id23">FIXED</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../src/release_notes.html#june-2021">2021.2 (24 June 2021)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../src/release_notes.html#id24">NEW</a></li>
<li class="toctree-l3"><a class="reference internal" href="../src/release_notes.html#id25">CHANGED</a></li>
<li class="toctree-l3"><a class="reference internal" href="../src/release_notes.html#id26">FIXED</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../src/release_notes.html#march-2021">2021.1 (24 March 2021)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../src/release_notes.html#id27">NEW</a></li>
<li class="toctree-l3"><a class="reference internal" href="../src/release_notes.html#id28">CHANGED</a></li>
<li class="toctree-l3"><a class="reference internal" href="../src/release_notes.html#id29">FIXED</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../src/release_notes.html#january-2021">2020.4.1 (21 January 2021)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../src/release_notes.html#id30">NEW</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../src/release_notes.html#december-2020">2020.4 (14 December 2020)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../src/release_notes.html#id31">NEW</a></li>
<li class="toctree-l3"><a class="reference internal" href="../src/release_notes.html#id32">CHANGED</a></li>
<li class="toctree-l3"><a class="reference internal" href="../src/release_notes.html#id33">FIXED</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../src/release_notes.html#september-2020">2020.3 (24 September 2020)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../src/release_notes.html#id34">NEW</a></li>
<li class="toctree-l3"><a class="reference internal" href="../src/release_notes.html#id35">CHANGED</a></li>
<li class="toctree-l3"><a class="reference internal" href="../src/release_notes.html#id36">FIXED</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../src/release_notes.html#june-2020">2020.2 (25 June 2020)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../src/release_notes.html#id37">NEW</a></li>
<li class="toctree-l3"><a class="reference internal" href="../src/release_notes.html#id40">CHANGED</a></li>
<li class="toctree-l3"><a class="reference internal" href="../src/release_notes.html#id41">FIXED</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../src/release_notes.html#march-2020">2020.1 (26 March 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../src/release_notes.html#december-2019">2019.4 (19 December 2019)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../src/release_notes.html#september-2019">2019.3 (26 September 2019)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../src/release_notes.html#june-2019">2019.2 (27 June 2019)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../src/troubleshooting.html">Troubleshooting</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../src/troubleshooting.html#known-issues-and-limitations">Known Issues and Limitations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../src/troubleshooting.html#id2">2023.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="../src/troubleshooting.html#id5">2023.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../src/troubleshooting.html#id8">2023.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="../src/troubleshooting.html#id11">2022.4</a></li>
<li class="toctree-l2"><a class="reference internal" href="../src/troubleshooting.html#id12">2022.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="../src/troubleshooting.html#id13">2022.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../src/troubleshooting.html#id14">2022.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="../src/troubleshooting.html#id15">2021.4</a></li>
<li class="toctree-l2"><a class="reference internal" href="../src/troubleshooting.html#id16">2021.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../src/troubleshooting.html#id17">2021.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="../src/troubleshooting.html#id18">2020.4</a></li>
<li class="toctree-l2"><a class="reference internal" href="../src/troubleshooting.html#id19">2019.2</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../src/licenses.html">Legal Information</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../src/licenses.html#third-party-content">Third Party Content</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../src/disclaimer.html">Notices &amp; Disclaimers</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">IntelÂ® GPA Framework</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Program Listing for File tinyxml2.h</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="program-listing-for-file-tinyxml2-h">
<span id="program-listing-file-include-tinyxml2-tinyxml2-h"></span><h1>Program Listing for File tinyxml2.h<a class="headerlink" href="#program-listing-for-file-tinyxml2-h" title="Permalink to this headline">ï</a></h1>
<p>â° <a class="reference internal" href="file_include_tinyxml2_tinyxml2.h.html#file-include-tinyxml2-tinyxml2-h"><span class="std std-ref">Return to documentation for file</span></a> (<code class="docutils literal notranslate"><span class="pre">include\tinyxml2\tinyxml2.h</span></code>)</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cm">/*</span>
<span class="cm">Original code by Lee Thomason (www.grinninglizard.com)</span>

<span class="cm">This software is provided &#39;as-is&#39;, without any express or implied</span>
<span class="cm">warranty. In no event will the authors be held liable for any</span>
<span class="cm">damages arising from the use of this software.</span>

<span class="cm">Permission is granted to anyone to use this software for any</span>
<span class="cm">purpose, including commercial applications, and to alter it and</span>
<span class="cm">redistribute it freely, subject to the following restrictions:</span>

<span class="cm">1. The origin of this software must not be misrepresented; you must</span>
<span class="cm">not claim that you wrote the original software. If you use this</span>
<span class="cm">software in a product, an acknowledgment in the product documentation</span>
<span class="cm">would be appreciated but is not required.</span>

<span class="cm">2. Altered source versions must be plainly marked as such, and</span>
<span class="cm">must not be misrepresented as being the original software.</span>

<span class="cm">3. This notice may not be removed or altered from any source</span>
<span class="cm">distribution.</span>
<span class="cm">*/</span>

<span class="cp">#ifndef TINYXML2_INCLUDED</span>
<span class="cp">#define TINYXML2_INCLUDED</span>

<span class="cp">#if defined(ANDROID_NDK) || defined(__BORLANDC__) || defined(__QNXNTO__)</span>
<span class="cp">#</span><span class="w">   </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;ctype.h&gt;</span>
<span class="cp">#</span><span class="w">   </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;limits.h&gt;</span>
<span class="cp">#</span><span class="w">   </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>
<span class="cp">#</span><span class="w">   </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;stdlib.h&gt;</span>
<span class="cp">#</span><span class="w">   </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;string.h&gt;</span>
<span class="cp">#   if defined(__PS3__)</span>
<span class="cp">#</span><span class="w">       </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;stddef.h&gt;</span>
<span class="cp">#   endif</span>
<span class="cp">#else</span>
<span class="cp">#</span><span class="w">   </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;cctype&gt;</span>
<span class="cp">#</span><span class="w">   </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;climits&gt;</span>
<span class="cp">#</span><span class="w">   </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;cstdio&gt;</span>
<span class="cp">#</span><span class="w">   </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;cstdlib&gt;</span>
<span class="cp">#</span><span class="w">   </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;cstring&gt;</span>
<span class="cp">#endif</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdint.h&gt;</span>

<span class="cm">/*</span>
<span class="cm">   TODO: intern strings instead of allocation.</span>
<span class="cm">*/</span>
<span class="cm">/*</span>
<span class="cm">    gcc:</span>
<span class="cm">        g++ -Wall -DTINYXML2_DEBUG tinyxml2.cpp xmltest.cpp -o gccxmltest.exe</span>

<span class="cm">    Formatting, Artistic Style:</span>
<span class="cm">        AStyle.exe --style=1tbs --indent-switches --break-closing-brackets --indent-preprocessor tinyxml2.cpp tinyxml2.h</span>
<span class="cm">*/</span>

<span class="cp">#if defined( _DEBUG ) || defined (__DEBUG__)</span>
<span class="cp">#   ifndef TINYXML2_DEBUG</span>
<span class="cp">#       define TINYXML2_DEBUG</span>
<span class="cp">#   endif</span>
<span class="cp">#endif</span>

<span class="cp">#ifdef _MSC_VER</span>
<span class="cp">#   pragma warning(push)</span>
<span class="cp">#   pragma warning(disable: 4251)</span>
<span class="cp">#endif</span>

<span class="cp">#ifdef _WIN32</span>
<span class="cp">#   ifdef TINYXML2_EXPORT</span>
<span class="cp">#       define TINYXML2_LIB __declspec(dllexport)</span>
<span class="cp">#   elif defined(TINYXML2_IMPORT)</span>
<span class="cp">#       define TINYXML2_LIB __declspec(dllimport)</span>
<span class="cp">#   else</span>
<span class="cp">#       define TINYXML2_LIB</span>
<span class="cp">#   endif</span>
<span class="cp">#elif __GNUC__ &gt;= 4</span>
<span class="cp">#   define TINYXML2_LIB __attribute__((visibility(&quot;default&quot;)))</span>
<span class="cp">#else</span>
<span class="cp">#   define TINYXML2_LIB</span>
<span class="cp">#endif</span>


<span class="cp">#if !defined(TIXMLASSERT)</span>
<span class="cp">#if defined(TINYXML2_DEBUG)</span>
<span class="cp">#   if defined(_MSC_VER)</span>
<span class="cp">#       </span><span class="c1">// &quot;(void)0,&quot; is for suppressing C4127 warning in &quot;assert(false)&quot;, &quot;assert(true)&quot; and the like</span>
<span class="cp">#       define TIXMLASSERT( x )           if ( !((void)0,(x))) { __debugbreak(); }</span>
<span class="cp">#   elif defined (ANDROID_NDK)</span>
<span class="cp">#</span><span class="w">       </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;android/log.h&gt;</span>
<span class="cp">#       define TIXMLASSERT( x )           if ( !(x)) { __android_log_assert( &quot;assert&quot;, &quot;grinliz&quot;, &quot;ASSERT in &#39;%s&#39; at %d.&quot;, __FILE__, __LINE__ ); }</span>
<span class="cp">#   else</span>
<span class="cp">#</span><span class="w">       </span><span class="cp">include</span><span class="w"> </span><span class="cpf">&lt;assert.h&gt;</span>
<span class="cp">#       define TIXMLASSERT                assert</span>
<span class="cp">#   endif</span>
<span class="cp">#else</span>
<span class="cp">#   define TIXMLASSERT( x )               {}</span>
<span class="cp">#endif</span>
<span class="cp">#endif</span>

<span class="cm">/* Versioning, past 1.0.14:</span>
<span class="cm">    http://semver.org/</span>
<span class="cm">*/</span>
<span class="k">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">TIXML2_MAJOR_VERSION</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">9</span><span class="p">;</span>
<span class="k">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">TIXML2_MINOR_VERSION</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="k">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">TIXML2_PATCH_VERSION</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>

<span class="cp">#define TINYXML2_MAJOR_VERSION 9</span>
<span class="cp">#define TINYXML2_MINOR_VERSION 0</span>
<span class="cp">#define TINYXML2_PATCH_VERSION 0</span>

<span class="c1">// A fixed element depth limit is problematic. There needs to be a</span>
<span class="c1">// limit to avoid a stack overflow. However, that limit varies per</span>
<span class="c1">// system, and the capacity of the stack. On the other hand, it&#39;s a trivial</span>
<span class="c1">// attack that can result from ill, malicious, or even correctly formed XML,</span>
<span class="c1">// so there needs to be a limit in place.</span>
<span class="k">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">TINYXML2_MAX_ELEMENT_DEPTH</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">100</span><span class="p">;</span>

<span class="k">namespace</span><span class="w"> </span><span class="nn">tinyxml2</span>
<span class="p">{</span>
<span class="k">class</span><span class="w"> </span><span class="nc">XMLDocument</span><span class="p">;</span>
<span class="k">class</span><span class="w"> </span><span class="nc">XMLElement</span><span class="p">;</span>
<span class="k">class</span><span class="w"> </span><span class="nc">XMLAttribute</span><span class="p">;</span>
<span class="k">class</span><span class="w"> </span><span class="nc">XMLComment</span><span class="p">;</span>
<span class="k">class</span><span class="w"> </span><span class="nc">XMLText</span><span class="p">;</span>
<span class="k">class</span><span class="w"> </span><span class="nc">XMLDeclaration</span><span class="p">;</span>
<span class="k">class</span><span class="w"> </span><span class="nc">XMLUnknown</span><span class="p">;</span>
<span class="k">class</span><span class="w"> </span><span class="nc">XMLPrinter</span><span class="p">;</span>

<span class="cm">/*</span>
<span class="cm">    A class that wraps strings. Normally stores the start and end</span>
<span class="cm">    pointers into the XML file itself, and will apply normalization</span>
<span class="cm">    and entity translation if actually read. Can also store (and memory</span>
<span class="cm">    manage) a traditional char[]</span>

<span class="cm">    Isn&#39;t clear why TINYXML2_LIB is needed; but seems to fix #719</span>
<span class="cm">*/</span>
<span class="k">class</span><span class="w"> </span><span class="nc">TINYXML2_LIB</span><span class="w"> </span><span class="n">StrPair</span>
<span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
<span class="w">    </span><span class="k">enum</span><span class="w"> </span><span class="nc">Mode</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">NEEDS_ENTITY_PROCESSING</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="mh">0x01</span><span class="p">,</span>
<span class="w">        </span><span class="n">NEEDS_NEWLINE_NORMALIZATION</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="mh">0x02</span><span class="p">,</span>
<span class="w">        </span><span class="n">NEEDS_WHITESPACE_COLLAPSING</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="mh">0x04</span><span class="p">,</span>

<span class="w">        </span><span class="n">TEXT_ELEMENT</span><span class="w">                    </span><span class="o">=</span><span class="w"> </span><span class="n">NEEDS_ENTITY_PROCESSING</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">NEEDS_NEWLINE_NORMALIZATION</span><span class="p">,</span>
<span class="w">        </span><span class="n">TEXT_ELEMENT_LEAVE_ENTITIES</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="n">NEEDS_NEWLINE_NORMALIZATION</span><span class="p">,</span>
<span class="w">        </span><span class="n">ATTRIBUTE_NAME</span><span class="w">                  </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">        </span><span class="n">ATTRIBUTE_VALUE</span><span class="w">                 </span><span class="o">=</span><span class="w"> </span><span class="n">NEEDS_ENTITY_PROCESSING</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">NEEDS_NEWLINE_NORMALIZATION</span><span class="p">,</span>
<span class="w">        </span><span class="n">ATTRIBUTE_VALUE_LEAVE_ENTITIES</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">NEEDS_NEWLINE_NORMALIZATION</span><span class="p">,</span>
<span class="w">        </span><span class="n">COMMENT</span><span class="w">                         </span><span class="o">=</span><span class="w"> </span><span class="n">NEEDS_NEWLINE_NORMALIZATION</span>
<span class="w">    </span><span class="p">};</span>

<span class="w">    </span><span class="n">StrPair</span><span class="p">()</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">_flags</span><span class="p">(</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">),</span><span class="w"> </span><span class="n">_start</span><span class="p">(</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">),</span><span class="w"> </span><span class="n">_end</span><span class="p">(</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{}</span>
<span class="w">    </span><span class="o">~</span><span class="n">StrPair</span><span class="p">();</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">Set</span><span class="p">(</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">start</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">end</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">flags</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">TIXMLASSERT</span><span class="p">(</span><span class="w"> </span><span class="n">start</span><span class="w"> </span><span class="p">);</span>
<span class="w">        </span><span class="n">TIXMLASSERT</span><span class="p">(</span><span class="w"> </span><span class="n">end</span><span class="w"> </span><span class="p">);</span>
<span class="w">        </span><span class="n">Reset</span><span class="p">();</span>
<span class="w">        </span><span class="n">_start</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">start</span><span class="p">;</span>
<span class="w">        </span><span class="n">_end</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="n">end</span><span class="p">;</span>
<span class="w">        </span><span class="n">_flags</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="n">flags</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">NEEDS_FLUSH</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="nf">GetStr</span><span class="p">();</span>

<span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="nf">Empty</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">_start</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">_end</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">SetInternedStr</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">str</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Reset</span><span class="p">();</span>
<span class="w">        </span><span class="n">_start</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">const_cast</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">*&gt;</span><span class="p">(</span><span class="n">str</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">SetStr</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">flags</span><span class="o">=</span><span class="mi">0</span><span class="w"> </span><span class="p">);</span>

<span class="w">    </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="nf">ParseText</span><span class="p">(</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">in</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">endTag</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">strFlags</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">curLineNumPtr</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="nf">ParseName</span><span class="p">(</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="p">);</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">TransferTo</span><span class="p">(</span><span class="w"> </span><span class="n">StrPair</span><span class="o">*</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">Reset</span><span class="p">();</span>

<span class="k">private</span><span class="o">:</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="n">CollapseWhitespace</span><span class="p">();</span>

<span class="w">    </span><span class="k">enum</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">NEEDS_FLUSH</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x100</span><span class="p">,</span>
<span class="w">        </span><span class="n">NEEDS_DELETE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x200</span>
<span class="w">    </span><span class="p">};</span>

<span class="w">    </span><span class="kt">int</span><span class="w">     </span><span class="n">_flags</span><span class="p">;</span>
<span class="w">    </span><span class="kt">char</span><span class="o">*</span><span class="w">   </span><span class="n">_start</span><span class="p">;</span>
<span class="w">    </span><span class="kt">char</span><span class="o">*</span><span class="w">   </span><span class="n">_end</span><span class="p">;</span>

<span class="w">    </span><span class="n">StrPair</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">StrPair</span><span class="o">&amp;</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="p">);</span><span class="w">    </span><span class="c1">// not supported</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="o">=</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">StrPair</span><span class="o">&amp;</span><span class="w"> </span><span class="n">other</span><span class="w"> </span><span class="p">);</span><span class="w"> </span><span class="c1">// not supported, use TransferTo()</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm">    A dynamic array of Plain Old Data. Doesn&#39;t support constructors, etc.</span>
<span class="cm">    Has a small initial memory pool, so that low or no usage will not</span>
<span class="cm">    cause a call to new/delete</span>
<span class="cm">*/</span>
<span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">T</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">INITIAL_SIZE</span><span class="o">&gt;</span>
<span class="k">class</span><span class="w"> </span><span class="nc">DynArray</span>
<span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
<span class="w">    </span><span class="n">DynArray</span><span class="p">()</span><span class="w"> </span><span class="o">:</span>
<span class="w">        </span><span class="n">_mem</span><span class="p">(</span><span class="w"> </span><span class="n">_pool</span><span class="w"> </span><span class="p">),</span>
<span class="w">        </span><span class="n">_allocated</span><span class="p">(</span><span class="w"> </span><span class="n">INITIAL_SIZE</span><span class="w"> </span><span class="p">),</span>
<span class="w">        </span><span class="n">_size</span><span class="p">(</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="o">~</span><span class="n">DynArray</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">_mem</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">_pool</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">delete</span><span class="w"> </span><span class="p">[]</span><span class="w"> </span><span class="n">_mem</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="n">Clear</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">_size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="n">Push</span><span class="p">(</span><span class="w"> </span><span class="n">T</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">TIXMLASSERT</span><span class="p">(</span><span class="w"> </span><span class="n">_size</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">INT_MAX</span><span class="w"> </span><span class="p">);</span>
<span class="w">        </span><span class="n">EnsureCapacity</span><span class="p">(</span><span class="w"> </span><span class="n">_size</span><span class="o">+</span><span class="mi">1</span><span class="w"> </span><span class="p">);</span>
<span class="w">        </span><span class="n">_mem</span><span class="p">[</span><span class="n">_size</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">t</span><span class="p">;</span>
<span class="w">        </span><span class="o">++</span><span class="n">_size</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">T</span><span class="o">*</span><span class="w"> </span><span class="n">PushArr</span><span class="p">(</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">count</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">TIXMLASSERT</span><span class="p">(</span><span class="w"> </span><span class="n">count</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">);</span>
<span class="w">        </span><span class="n">TIXMLASSERT</span><span class="p">(</span><span class="w"> </span><span class="n">_size</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">INT_MAX</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">count</span><span class="w"> </span><span class="p">);</span>
<span class="w">        </span><span class="n">EnsureCapacity</span><span class="p">(</span><span class="w"> </span><span class="n">_size</span><span class="o">+</span><span class="n">count</span><span class="w"> </span><span class="p">);</span>
<span class="w">        </span><span class="n">T</span><span class="o">*</span><span class="w"> </span><span class="n">ret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">_mem</span><span class="p">[</span><span class="n">_size</span><span class="p">];</span>
<span class="w">        </span><span class="n">_size</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">count</span><span class="p">;</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">ret</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">T</span><span class="w"> </span><span class="n">Pop</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">TIXMLASSERT</span><span class="p">(</span><span class="w"> </span><span class="n">_size</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">);</span>
<span class="w">        </span><span class="o">--</span><span class="n">_size</span><span class="p">;</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">_mem</span><span class="p">[</span><span class="n">_size</span><span class="p">];</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="n">PopArr</span><span class="p">(</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">count</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">TIXMLASSERT</span><span class="p">(</span><span class="w"> </span><span class="n">_size</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">count</span><span class="w"> </span><span class="p">);</span>
<span class="w">        </span><span class="n">_size</span><span class="w"> </span><span class="o">-=</span><span class="w"> </span><span class="n">count</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">Empty</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w">                  </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">_size</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">T</span><span class="o">&amp;</span><span class="w"> </span><span class="k">operator</span><span class="p">[](</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w">                </span><span class="p">{</span>
<span class="w">        </span><span class="n">TIXMLASSERT</span><span class="p">(</span><span class="w"> </span><span class="n">i</span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">_size</span><span class="w"> </span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">_mem</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">T</span><span class="o">&amp;</span><span class="w"> </span><span class="k">operator</span><span class="p">[](</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="n">TIXMLASSERT</span><span class="p">(</span><span class="w"> </span><span class="n">i</span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">_size</span><span class="w"> </span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">_mem</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">T</span><span class="o">&amp;</span><span class="w"> </span><span class="n">PeekTop</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w">            </span><span class="p">{</span>
<span class="w">        </span><span class="n">TIXMLASSERT</span><span class="p">(</span><span class="w"> </span><span class="n">_size</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">_mem</span><span class="p">[</span><span class="w"> </span><span class="n">_size</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">];</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">Size</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w">                    </span><span class="p">{</span>
<span class="w">        </span><span class="n">TIXMLASSERT</span><span class="p">(</span><span class="w"> </span><span class="n">_size</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">_size</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">Capacity</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w">                </span><span class="p">{</span>
<span class="w">        </span><span class="n">TIXMLASSERT</span><span class="p">(</span><span class="w"> </span><span class="n">_allocated</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">INITIAL_SIZE</span><span class="w"> </span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">_allocated</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="n">SwapRemove</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">TIXMLASSERT</span><span class="p">(</span><span class="n">i</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">_size</span><span class="p">);</span>
<span class="w">        </span><span class="n">TIXMLASSERT</span><span class="p">(</span><span class="n">_size</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="w">        </span><span class="n">_mem</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_mem</span><span class="p">[</span><span class="n">_size</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">];</span>
<span class="w">        </span><span class="o">--</span><span class="n">_size</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">T</span><span class="o">*</span><span class="w"> </span><span class="n">Mem</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w">                </span><span class="p">{</span>
<span class="w">        </span><span class="n">TIXMLASSERT</span><span class="p">(</span><span class="w"> </span><span class="n">_mem</span><span class="w"> </span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">_mem</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">T</span><span class="o">*</span><span class="w"> </span><span class="n">Mem</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">TIXMLASSERT</span><span class="p">(</span><span class="w"> </span><span class="n">_mem</span><span class="w"> </span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">_mem</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="k">private</span><span class="o">:</span>
<span class="w">    </span><span class="n">DynArray</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">DynArray</span><span class="o">&amp;</span><span class="w"> </span><span class="p">);</span><span class="w"> </span><span class="c1">// not supported</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="o">=</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">DynArray</span><span class="o">&amp;</span><span class="w"> </span><span class="p">);</span><span class="w"> </span><span class="c1">// not supported</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">EnsureCapacity</span><span class="p">(</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">cap</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">TIXMLASSERT</span><span class="p">(</span><span class="w"> </span><span class="n">cap</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">);</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">cap</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">_allocated</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">TIXMLASSERT</span><span class="p">(</span><span class="w"> </span><span class="n">cap</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">INT_MAX</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="p">);</span>
<span class="w">            </span><span class="k">const</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">newAllocated</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cap</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
<span class="w">            </span><span class="n">T</span><span class="o">*</span><span class="w"> </span><span class="n">newMem</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">T</span><span class="p">[</span><span class="n">newAllocated</span><span class="p">];</span>
<span class="w">            </span><span class="n">TIXMLASSERT</span><span class="p">(</span><span class="w"> </span><span class="n">newAllocated</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="n">_size</span><span class="w"> </span><span class="p">);</span>
<span class="w">            </span><span class="n">memcpy</span><span class="p">(</span><span class="w"> </span><span class="n">newMem</span><span class="p">,</span><span class="w"> </span><span class="n">_mem</span><span class="p">,</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">T</span><span class="p">)</span><span class="o">*</span><span class="n">_size</span><span class="w"> </span><span class="p">);</span><span class="w">    </span><span class="c1">// warning: not using constructors, only works for PODs</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">_mem</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">_pool</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">delete</span><span class="w"> </span><span class="p">[]</span><span class="w"> </span><span class="n">_mem</span><span class="p">;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">            </span><span class="n">_mem</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newMem</span><span class="p">;</span>
<span class="w">            </span><span class="n">_allocated</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">newAllocated</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">T</span><span class="o">*</span><span class="w">  </span><span class="n">_mem</span><span class="p">;</span>
<span class="w">    </span><span class="n">T</span><span class="w">   </span><span class="n">_pool</span><span class="p">[</span><span class="n">INITIAL_SIZE</span><span class="p">];</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">_allocated</span><span class="p">;</span><span class="w">     </span><span class="c1">// objects allocated</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">_size</span><span class="p">;</span><span class="w">          </span><span class="c1">// number objects in use</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm">    Parent virtual class of a pool for fast allocation</span>
<span class="cm">    and deallocation of objects.</span>
<span class="cm">*/</span>
<span class="k">class</span><span class="w"> </span><span class="nc">MemPool</span>
<span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
<span class="w">    </span><span class="n">MemPool</span><span class="p">()</span><span class="w"> </span><span class="p">{}</span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="o">~</span><span class="n">MemPool</span><span class="p">()</span><span class="w"> </span><span class="p">{}</span>

<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">ItemSize</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="o">*</span><span class="w"> </span><span class="nf">Alloc</span><span class="p">()</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">Free</span><span class="p">(</span><span class="w"> </span><span class="kt">void</span><span class="o">*</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">SetTracked</span><span class="p">()</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm">    Template child class to create pools of the correct type.</span>
<span class="cm">*/</span>
<span class="k">template</span><span class="o">&lt;</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">ITEM_SIZE</span><span class="w"> </span><span class="o">&gt;</span>
<span class="k">class</span><span class="w"> </span><span class="nc">MemPoolT</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">public</span><span class="w"> </span><span class="n">MemPool</span>
<span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
<span class="w">    </span><span class="n">MemPoolT</span><span class="p">()</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">_blockPtrs</span><span class="p">(),</span><span class="w"> </span><span class="n">_root</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span><span class="w"> </span><span class="n">_currentAllocs</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span><span class="w"> </span><span class="n">_nAllocs</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span><span class="w"> </span><span class="n">_maxAllocs</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span><span class="w"> </span><span class="n">_nUntracked</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="w">  </span><span class="p">{}</span>
<span class="w">    </span><span class="o">~</span><span class="n">MemPoolT</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">MemPoolT</span><span class="o">&lt;</span><span class="w"> </span><span class="n">ITEM_SIZE</span><span class="w"> </span><span class="o">&gt;::</span><span class="n">Clear</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="n">Clear</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// Delete the blocks.</span>
<span class="w">        </span><span class="k">while</span><span class="p">(</span><span class="w"> </span><span class="o">!</span><span class="n">_blockPtrs</span><span class="p">.</span><span class="n">Empty</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">Block</span><span class="o">*</span><span class="w"> </span><span class="n">lastBlock</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_blockPtrs</span><span class="p">.</span><span class="n">Pop</span><span class="p">();</span>
<span class="w">            </span><span class="k">delete</span><span class="w"> </span><span class="n">lastBlock</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="n">_root</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">        </span><span class="n">_currentAllocs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">        </span><span class="n">_nAllocs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">        </span><span class="n">_maxAllocs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">        </span><span class="n">_nUntracked</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">ItemSize</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">ITEM_SIZE</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">CurrentAllocs</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w">       </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">_currentAllocs</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="o">*</span><span class="w"> </span><span class="n">Alloc</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="o">!</span><span class="n">_root</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// Need a new block.</span>
<span class="w">            </span><span class="n">Block</span><span class="o">*</span><span class="w"> </span><span class="n">block</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Block</span><span class="p">();</span>
<span class="w">            </span><span class="n">_blockPtrs</span><span class="p">.</span><span class="n">Push</span><span class="p">(</span><span class="w"> </span><span class="n">block</span><span class="w"> </span><span class="p">);</span>

<span class="w">            </span><span class="n">Item</span><span class="o">*</span><span class="w"> </span><span class="n">blockItems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">block</span><span class="o">-&gt;</span><span class="n">items</span><span class="p">;</span>
<span class="w">            </span><span class="k">for</span><span class="p">(</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">ITEMS_PER_BLOCK</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">blockItems</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="p">(</span><span class="n">blockItems</span><span class="p">[</span><span class="n">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">]);</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">            </span><span class="n">blockItems</span><span class="p">[</span><span class="n">ITEMS_PER_BLOCK</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">1</span><span class="p">].</span><span class="n">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">            </span><span class="n">_root</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">blockItems</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="n">Item</span><span class="o">*</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_root</span><span class="p">;</span>
<span class="w">        </span><span class="n">TIXMLASSERT</span><span class="p">(</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">);</span>
<span class="w">        </span><span class="n">_root</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_root</span><span class="o">-&gt;</span><span class="n">next</span><span class="p">;</span>

<span class="w">        </span><span class="o">++</span><span class="n">_currentAllocs</span><span class="p">;</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">_currentAllocs</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">_maxAllocs</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">_maxAllocs</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_currentAllocs</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="o">++</span><span class="n">_nAllocs</span><span class="p">;</span>
<span class="w">        </span><span class="o">++</span><span class="n">_nUntracked</span><span class="p">;</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">result</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">Free</span><span class="p">(</span><span class="w"> </span><span class="kt">void</span><span class="o">*</span><span class="w"> </span><span class="n">mem</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="o">!</span><span class="n">mem</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="o">--</span><span class="n">_currentAllocs</span><span class="p">;</span>
<span class="w">        </span><span class="n">Item</span><span class="o">*</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">static_cast</span><span class="o">&lt;</span><span class="n">Item</span><span class="o">*&gt;</span><span class="p">(</span><span class="w"> </span><span class="n">mem</span><span class="w"> </span><span class="p">);</span>
<span class="cp">#ifdef TINYXML2_DEBUG</span>
<span class="w">        </span><span class="n">memset</span><span class="p">(</span><span class="w"> </span><span class="n">item</span><span class="p">,</span><span class="w"> </span><span class="mh">0xfe</span><span class="p">,</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="w"> </span><span class="o">*</span><span class="n">item</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">);</span>
<span class="cp">#endif</span>
<span class="w">        </span><span class="n">item</span><span class="o">-&gt;</span><span class="n">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">_root</span><span class="p">;</span>
<span class="w">        </span><span class="n">_root</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">item</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="n">Trace</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="w"> </span><span class="s">&quot;Mempool %s watermark=%d [%dk] current=%d size=%d nAlloc=%d blocks=%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
<span class="w">                </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">_maxAllocs</span><span class="p">,</span><span class="w"> </span><span class="n">_maxAllocs</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">ITEM_SIZE</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">1024</span><span class="p">,</span><span class="w"> </span><span class="n">_currentAllocs</span><span class="p">,</span>
<span class="w">                </span><span class="n">ITEM_SIZE</span><span class="p">,</span><span class="w"> </span><span class="n">_nAllocs</span><span class="p">,</span><span class="w"> </span><span class="n">_blockPtrs</span><span class="p">.</span><span class="n">Size</span><span class="p">()</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="n">SetTracked</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="o">--</span><span class="n">_nUntracked</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">Untracked</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">_nUntracked</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// This number is perf sensitive. 4k seems like a good tradeoff on my machine.</span>
<span class="w">    </span><span class="c1">// The test file is large, 170k.</span>
<span class="w">    </span><span class="c1">// Release:     VS2010 gcc(no opt)</span>
<span class="w">    </span><span class="c1">//      1k:     4000</span>
<span class="w">    </span><span class="c1">//      2k:     4000</span>
<span class="w">    </span><span class="c1">//      4k:     3900    21000</span>
<span class="w">    </span><span class="c1">//      16k:    5200</span>
<span class="w">    </span><span class="c1">//      32k:    4300</span>
<span class="w">    </span><span class="c1">//      64k:    4000    21000</span>
<span class="w">    </span><span class="c1">// Declared public because some compilers do not accept to use ITEMS_PER_BLOCK</span>
<span class="w">    </span><span class="c1">// in private part if ITEMS_PER_BLOCK is private</span>
<span class="w">    </span><span class="k">enum</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">ITEMS_PER_BLOCK</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="mi">4</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">1024</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">ITEM_SIZE</span><span class="w"> </span><span class="p">};</span>

<span class="k">private</span><span class="o">:</span>
<span class="w">    </span><span class="n">MemPoolT</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">MemPoolT</span><span class="o">&amp;</span><span class="w"> </span><span class="p">);</span><span class="w"> </span><span class="c1">// not supported</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="o">=</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">MemPoolT</span><span class="o">&amp;</span><span class="w"> </span><span class="p">);</span><span class="w"> </span><span class="c1">// not supported</span>

<span class="w">    </span><span class="k">union</span><span class="w"> </span><span class="nc">Item</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Item</span><span class="o">*</span><span class="w">   </span><span class="n">next</span><span class="p">;</span>
<span class="w">        </span><span class="kt">char</span><span class="w">    </span><span class="n">itemData</span><span class="p">[</span><span class="n">ITEM_SIZE</span><span class="p">];</span>
<span class="w">    </span><span class="p">};</span>
<span class="w">    </span><span class="k">struct</span><span class="w"> </span><span class="nc">Block</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Item</span><span class="w"> </span><span class="n">items</span><span class="p">[</span><span class="n">ITEMS_PER_BLOCK</span><span class="p">];</span>
<span class="w">    </span><span class="p">};</span>
<span class="w">    </span><span class="n">DynArray</span><span class="o">&lt;</span><span class="w"> </span><span class="n">Block</span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">_blockPtrs</span><span class="p">;</span>
<span class="w">    </span><span class="n">Item</span><span class="o">*</span><span class="w"> </span><span class="n">_root</span><span class="p">;</span>

<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">_currentAllocs</span><span class="p">;</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">_nAllocs</span><span class="p">;</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">_maxAllocs</span><span class="p">;</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">_nUntracked</span><span class="p">;</span>
<span class="p">};</span>



<span class="k">class</span><span class="w"> </span><span class="nc">TINYXML2_LIB</span><span class="w"> </span><span class="n">XMLVisitor</span>
<span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="o">~</span><span class="n">XMLVisitor</span><span class="p">()</span><span class="w"> </span><span class="p">{}</span>

<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">VisitEnter</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">XMLDocument</span><span class="o">&amp;</span><span class="w"> </span><span class="cm">/*doc*/</span><span class="w"> </span><span class="p">)</span><span class="w">           </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">VisitExit</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">XMLDocument</span><span class="o">&amp;</span><span class="w"> </span><span class="cm">/*doc*/</span><span class="w"> </span><span class="p">)</span><span class="w">            </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">VisitEnter</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">XMLElement</span><span class="o">&amp;</span><span class="w"> </span><span class="cm">/*element*/</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">XMLAttribute</span><span class="o">*</span><span class="w"> </span><span class="cm">/*firstAttribute*/</span><span class="w"> </span><span class="p">)</span><span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">VisitExit</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">XMLElement</span><span class="o">&amp;</span><span class="w"> </span><span class="cm">/*element*/</span><span class="w"> </span><span class="p">)</span><span class="w">         </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">Visit</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">XMLDeclaration</span><span class="o">&amp;</span><span class="w"> </span><span class="cm">/*declaration*/</span><span class="w"> </span><span class="p">)</span><span class="w">     </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">Visit</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">XMLText</span><span class="o">&amp;</span><span class="w"> </span><span class="cm">/*text*/</span><span class="w"> </span><span class="p">)</span><span class="w">                   </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">Visit</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">XMLComment</span><span class="o">&amp;</span><span class="w"> </span><span class="cm">/*comment*/</span><span class="w"> </span><span class="p">)</span><span class="w">             </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">Visit</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">XMLUnknown</span><span class="o">&amp;</span><span class="w"> </span><span class="cm">/*unknown*/</span><span class="w"> </span><span class="p">)</span><span class="w">             </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">};</span>

<span class="c1">// WARNING: must match XMLDocument::_errorNames[]</span>
<span class="k">enum</span><span class="w"> </span><span class="nc">XMLError</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">XML_SUCCESS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="n">XML_NO_ATTRIBUTE</span><span class="p">,</span>
<span class="w">    </span><span class="n">XML_WRONG_ATTRIBUTE_TYPE</span><span class="p">,</span>
<span class="w">    </span><span class="n">XML_ERROR_FILE_NOT_FOUND</span><span class="p">,</span>
<span class="w">    </span><span class="n">XML_ERROR_FILE_COULD_NOT_BE_OPENED</span><span class="p">,</span>
<span class="w">    </span><span class="n">XML_ERROR_FILE_READ_ERROR</span><span class="p">,</span>
<span class="w">    </span><span class="n">XML_ERROR_PARSING_ELEMENT</span><span class="p">,</span>
<span class="w">    </span><span class="n">XML_ERROR_PARSING_ATTRIBUTE</span><span class="p">,</span>
<span class="w">    </span><span class="n">XML_ERROR_PARSING_TEXT</span><span class="p">,</span>
<span class="w">    </span><span class="n">XML_ERROR_PARSING_CDATA</span><span class="p">,</span>
<span class="w">    </span><span class="n">XML_ERROR_PARSING_COMMENT</span><span class="p">,</span>
<span class="w">    </span><span class="n">XML_ERROR_PARSING_DECLARATION</span><span class="p">,</span>
<span class="w">    </span><span class="n">XML_ERROR_PARSING_UNKNOWN</span><span class="p">,</span>
<span class="w">    </span><span class="n">XML_ERROR_EMPTY_DOCUMENT</span><span class="p">,</span>
<span class="w">    </span><span class="n">XML_ERROR_MISMATCHED_ELEMENT</span><span class="p">,</span>
<span class="w">    </span><span class="n">XML_ERROR_PARSING</span><span class="p">,</span>
<span class="w">    </span><span class="n">XML_CAN_NOT_CONVERT_TEXT</span><span class="p">,</span>
<span class="w">    </span><span class="n">XML_NO_TEXT_NODE</span><span class="p">,</span>
<span class="w">    </span><span class="n">XML_ELEMENT_DEPTH_EXCEEDED</span><span class="p">,</span>

<span class="w">    </span><span class="n">XML_ERROR_COUNT</span>
<span class="p">};</span>


<span class="cm">/*</span>
<span class="cm">    Utility functionality.</span>
<span class="cm">*/</span>
<span class="k">class</span><span class="w"> </span><span class="nc">TINYXML2_LIB</span><span class="w"> </span><span class="n">XMLUtil</span>
<span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
<span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">SkipWhiteSpace</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">p</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">curLineNumPtr</span><span class="w"> </span><span class="p">)</span><span class="w">  </span><span class="p">{</span>
<span class="w">        </span><span class="n">TIXMLASSERT</span><span class="p">(</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="p">);</span>

<span class="w">        </span><span class="k">while</span><span class="p">(</span><span class="w"> </span><span class="n">IsWhiteSpace</span><span class="p">(</span><span class="o">*</span><span class="n">p</span><span class="p">)</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">curLineNumPtr</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">*</span><span class="n">p</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;\n&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="o">++</span><span class="p">(</span><span class="o">*</span><span class="n">curLineNumPtr</span><span class="p">);</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">            </span><span class="o">++</span><span class="n">p</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="n">TIXMLASSERT</span><span class="p">(</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">p</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">SkipWhiteSpace</span><span class="p">(</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">p</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">curLineNumPtr</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">const_cast</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">*&gt;</span><span class="p">(</span><span class="w"> </span><span class="n">SkipWhiteSpace</span><span class="p">(</span><span class="w"> </span><span class="k">const_cast</span><span class="o">&lt;</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*&gt;</span><span class="p">(</span><span class="n">p</span><span class="p">),</span><span class="w"> </span><span class="n">curLineNumPtr</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// Anything in the high order range of UTF-8 is assumed to not be whitespace. This isn&#39;t</span>
<span class="w">    </span><span class="c1">// correct, but simple, and usually works.</span>
<span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">IsWhiteSpace</span><span class="p">(</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="p">)</span><span class="w">                  </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="o">!</span><span class="n">IsUTF8Continuation</span><span class="p">(</span><span class="n">p</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">isspace</span><span class="p">(</span><span class="w"> </span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">char</span><span class="o">&gt;</span><span class="p">(</span><span class="n">p</span><span class="p">)</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kr">inline</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">IsNameStartChar</span><span class="p">(</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">ch</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">ch</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">128</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// This is a heuristic guess in attempt to not implement Unicode-aware isalpha()</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">isalpha</span><span class="p">(</span><span class="w"> </span><span class="n">ch</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">ch</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;:&#39;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">ch</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;_&#39;</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kr">inline</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">IsNameChar</span><span class="p">(</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">ch</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">IsNameStartChar</span><span class="p">(</span><span class="w"> </span><span class="n">ch</span><span class="w"> </span><span class="p">)</span>
<span class="w">               </span><span class="o">||</span><span class="w"> </span><span class="n">isdigit</span><span class="p">(</span><span class="w"> </span><span class="n">ch</span><span class="w"> </span><span class="p">)</span>
<span class="w">               </span><span class="o">||</span><span class="w"> </span><span class="n">ch</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;.&#39;</span>
<span class="w">               </span><span class="o">||</span><span class="w"> </span><span class="n">ch</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;-&#39;</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kr">inline</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">IsPrefixHex</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">p</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SkipWhiteSpace</span><span class="p">(</span><span class="n">p</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="o">*</span><span class="n">p</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;0&#39;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="o">*</span><span class="p">(</span><span class="n">p</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;x&#39;</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="o">*</span><span class="p">(</span><span class="n">p</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;X&#39;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kr">inline</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">StringEqual</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">p</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">q</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">nChar</span><span class="o">=</span><span class="n">INT_MAX</span><span class="w"> </span><span class="p">)</span><span class="w">  </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">q</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="n">TIXMLASSERT</span><span class="p">(</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="p">);</span>
<span class="w">        </span><span class="n">TIXMLASSERT</span><span class="p">(</span><span class="w"> </span><span class="n">q</span><span class="w"> </span><span class="p">);</span>
<span class="w">        </span><span class="n">TIXMLASSERT</span><span class="p">(</span><span class="w"> </span><span class="n">nChar</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">strncmp</span><span class="p">(</span><span class="w"> </span><span class="n">p</span><span class="p">,</span><span class="w"> </span><span class="n">q</span><span class="p">,</span><span class="w"> </span><span class="n">nChar</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kr">inline</span><span class="w"> </span><span class="k">static</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">IsUTF8Continuation</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="mh">0x80</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">ReadBOM</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">p</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="o">*</span><span class="w"> </span><span class="n">hasBOM</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="c1">// p is the starting location,</span>
<span class="w">    </span><span class="c1">// the UTF-8 value of the entity will be placed in value, and length filled in.</span>
<span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="nf">GetCharacterRef</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">p</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">ConvertUTF32ToUTF8</span><span class="p">(</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">input</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">output</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="p">);</span>

<span class="w">    </span><span class="c1">// converts primitive types to strings</span>
<span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">ToStr</span><span class="p">(</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">v</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">buffer</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">bufferSize</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">ToStr</span><span class="p">(</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="n">v</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">buffer</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">bufferSize</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">ToStr</span><span class="p">(</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">v</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">buffer</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">bufferSize</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">ToStr</span><span class="p">(</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">v</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">buffer</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">bufferSize</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">ToStr</span><span class="p">(</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">v</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">buffer</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">bufferSize</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">ToStr</span><span class="p">(</span><span class="kt">int64_t</span><span class="w"> </span><span class="n">v</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">buffer</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">bufferSize</span><span class="p">);</span>
<span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">ToStr</span><span class="p">(</span><span class="kt">uint64_t</span><span class="w"> </span><span class="n">v</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">buffer</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">bufferSize</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// converts strings to primitive types</span>
<span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="nf">ToInt</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="nf">ToUnsigned</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="kt">unsigned</span><span class="o">*</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="nf">ToBool</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="o">*</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="nf">ToFloat</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="kt">float</span><span class="o">*</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="nf">ToDouble</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="o">*</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="nf">ToInt64</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="kt">int64_t</span><span class="o">*</span><span class="w"> </span><span class="n">value</span><span class="p">);</span>
<span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="nf">ToUnsigned64</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="kt">uint64_t</span><span class="o">*</span><span class="w"> </span><span class="n">value</span><span class="p">);</span>
<span class="w">    </span><span class="c1">// Changes what is serialized for a boolean value.</span>
<span class="w">    </span><span class="c1">// Default to &quot;true&quot; and &quot;false&quot;. Shouldn&#39;t be changed</span>
<span class="w">    </span><span class="c1">// unless you have a special testing or compatibility need.</span>
<span class="w">    </span><span class="c1">// Be careful: static, global, &amp; not thread safe.</span>
<span class="w">    </span><span class="c1">// Be sure to set static const memory as parameters.</span>
<span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">SetBoolSerialization</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">writeTrue</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">writeFalse</span><span class="p">);</span>

<span class="k">private</span><span class="o">:</span>
<span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">writeBoolTrue</span><span class="p">;</span>
<span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">writeBoolFalse</span><span class="p">;</span>
<span class="p">};</span>


<span class="k">class</span><span class="w"> </span><span class="nc">TINYXML2_LIB</span><span class="w"> </span><span class="n">XMLNode</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">friend</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">XMLDocument</span><span class="p">;</span>
<span class="w">    </span><span class="k">friend</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">XMLElement</span><span class="p">;</span>
<span class="k">public</span><span class="o">:</span>

<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">XMLDocument</span><span class="o">*</span><span class="w"> </span><span class="n">GetDocument</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w">  </span><span class="p">{</span>
<span class="w">        </span><span class="n">TIXMLASSERT</span><span class="p">(</span><span class="w"> </span><span class="n">_document</span><span class="w"> </span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">_document</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="n">XMLDocument</span><span class="o">*</span><span class="w"> </span><span class="n">GetDocument</span><span class="p">()</span><span class="w">              </span><span class="p">{</span>
<span class="w">        </span><span class="n">TIXMLASSERT</span><span class="p">(</span><span class="w"> </span><span class="n">_document</span><span class="w"> </span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">_document</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="n">XMLElement</span><span class="o">*</span><span class="w">     </span><span class="n">ToElement</span><span class="p">()</span><span class="w">     </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="n">XMLText</span><span class="o">*</span><span class="w">        </span><span class="n">ToText</span><span class="p">()</span><span class="w">        </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="n">XMLComment</span><span class="o">*</span><span class="w">     </span><span class="n">ToComment</span><span class="p">()</span><span class="w">     </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="n">XMLDocument</span><span class="o">*</span><span class="w">    </span><span class="n">ToDocument</span><span class="p">()</span><span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="n">XMLDeclaration</span><span class="o">*</span><span class="w"> </span><span class="n">ToDeclaration</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="n">XMLUnknown</span><span class="o">*</span><span class="w">     </span><span class="n">ToUnknown</span><span class="p">()</span><span class="w">     </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">XMLElement</span><span class="o">*</span><span class="w">       </span><span class="n">ToElement</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w">       </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">XMLText</span><span class="o">*</span><span class="w">          </span><span class="n">ToText</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w">          </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">XMLComment</span><span class="o">*</span><span class="w">       </span><span class="n">ToComment</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w">       </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">XMLDocument</span><span class="o">*</span><span class="w">      </span><span class="n">ToDocument</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">XMLDeclaration</span><span class="o">*</span><span class="w">   </span><span class="n">ToDeclaration</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w">   </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">XMLUnknown</span><span class="o">*</span><span class="w">       </span><span class="n">ToUnknown</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w">       </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">Value</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="p">;</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">SetValue</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">val</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">staticMem</span><span class="o">=</span><span class="nb">false</span><span class="w"> </span><span class="p">);</span>

<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="nf">GetLineNum</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">_parseLineNum</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>

<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">XMLNode</span><span class="o">*</span><span class="w">  </span><span class="nf">Parent</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w">          </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">_parent</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">XMLNode</span><span class="o">*</span><span class="w"> </span><span class="nf">Parent</span><span class="p">()</span><span class="w">                       </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">_parent</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="nf">NoChildren</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w">                 </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="o">!</span><span class="n">_firstChild</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">XMLNode</span><span class="o">*</span><span class="w">  </span><span class="nf">FirstChild</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">_firstChild</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">XMLNode</span><span class="o">*</span><span class="w">        </span><span class="nf">FirstChild</span><span class="p">()</span><span class="w">            </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">_firstChild</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">XMLElement</span><span class="o">*</span><span class="w"> </span><span class="nf">FirstChildElement</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="p">;</span>

<span class="w">    </span><span class="n">XMLElement</span><span class="o">*</span><span class="w"> </span><span class="nf">FirstChildElement</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">)</span><span class="w">   </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">const_cast</span><span class="o">&lt;</span><span class="n">XMLElement</span><span class="o">*&gt;</span><span class="p">(</span><span class="k">const_cast</span><span class="o">&lt;</span><span class="k">const</span><span class="w"> </span><span class="n">XMLNode</span><span class="o">*&gt;</span><span class="p">(</span><span class="k">this</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">FirstChildElement</span><span class="p">(</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="p">));</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">XMLNode</span><span class="o">*</span><span class="w">  </span><span class="nf">LastChild</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w">                       </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">_lastChild</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">XMLNode</span><span class="o">*</span><span class="w">        </span><span class="nf">LastChild</span><span class="p">()</span><span class="w">                             </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">_lastChild</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">XMLElement</span><span class="o">*</span><span class="w"> </span><span class="nf">LastChildElement</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="p">;</span>

<span class="w">    </span><span class="n">XMLElement</span><span class="o">*</span><span class="w"> </span><span class="nf">LastChildElement</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">)</span><span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">const_cast</span><span class="o">&lt;</span><span class="n">XMLElement</span><span class="o">*&gt;</span><span class="p">(</span><span class="k">const_cast</span><span class="o">&lt;</span><span class="k">const</span><span class="w"> </span><span class="n">XMLNode</span><span class="o">*&gt;</span><span class="p">(</span><span class="k">this</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">LastChildElement</span><span class="p">(</span><span class="n">name</span><span class="p">)</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">XMLNode</span><span class="o">*</span><span class="w">  </span><span class="nf">PreviousSibling</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w">                 </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">_prev</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">XMLNode</span><span class="o">*</span><span class="w">    </span><span class="nf">PreviousSibling</span><span class="p">()</span><span class="w">                           </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">_prev</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">XMLElement</span><span class="o">*</span><span class="w">   </span><span class="nf">PreviousSiblingElement</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="p">;</span>

<span class="w">    </span><span class="n">XMLElement</span><span class="o">*</span><span class="w"> </span><span class="nf">PreviousSiblingElement</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">const_cast</span><span class="o">&lt;</span><span class="n">XMLElement</span><span class="o">*&gt;</span><span class="p">(</span><span class="k">const_cast</span><span class="o">&lt;</span><span class="k">const</span><span class="w"> </span><span class="n">XMLNode</span><span class="o">*&gt;</span><span class="p">(</span><span class="k">this</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">PreviousSiblingElement</span><span class="p">(</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">XMLNode</span><span class="o">*</span><span class="w">  </span><span class="nf">NextSibling</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w">                     </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">_next</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">XMLNode</span><span class="o">*</span><span class="w">    </span><span class="nf">NextSibling</span><span class="p">()</span><span class="w">                               </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">_next</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">XMLElement</span><span class="o">*</span><span class="w">   </span><span class="nf">NextSiblingElement</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="p">;</span>

<span class="w">    </span><span class="n">XMLElement</span><span class="o">*</span><span class="w"> </span><span class="nf">NextSiblingElement</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">)</span><span class="w">  </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">const_cast</span><span class="o">&lt;</span><span class="n">XMLElement</span><span class="o">*&gt;</span><span class="p">(</span><span class="k">const_cast</span><span class="o">&lt;</span><span class="k">const</span><span class="w"> </span><span class="n">XMLNode</span><span class="o">*&gt;</span><span class="p">(</span><span class="k">this</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">NextSiblingElement</span><span class="p">(</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">XMLNode</span><span class="o">*</span><span class="w"> </span><span class="nf">InsertEndChild</span><span class="p">(</span><span class="w"> </span><span class="n">XMLNode</span><span class="o">*</span><span class="w"> </span><span class="n">addThis</span><span class="w"> </span><span class="p">);</span>

<span class="w">    </span><span class="n">XMLNode</span><span class="o">*</span><span class="w"> </span><span class="nf">LinkEndChild</span><span class="p">(</span><span class="w"> </span><span class="n">XMLNode</span><span class="o">*</span><span class="w"> </span><span class="n">addThis</span><span class="w"> </span><span class="p">)</span><span class="w">   </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">InsertEndChild</span><span class="p">(</span><span class="w"> </span><span class="n">addThis</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="n">XMLNode</span><span class="o">*</span><span class="w"> </span><span class="nf">InsertFirstChild</span><span class="p">(</span><span class="w"> </span><span class="n">XMLNode</span><span class="o">*</span><span class="w"> </span><span class="n">addThis</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="n">XMLNode</span><span class="o">*</span><span class="w"> </span><span class="nf">InsertAfterChild</span><span class="p">(</span><span class="w"> </span><span class="n">XMLNode</span><span class="o">*</span><span class="w"> </span><span class="n">afterThis</span><span class="p">,</span><span class="w"> </span><span class="n">XMLNode</span><span class="o">*</span><span class="w"> </span><span class="n">addThis</span><span class="w"> </span><span class="p">);</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">DeleteChildren</span><span class="p">();</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">DeleteChild</span><span class="p">(</span><span class="w"> </span><span class="n">XMLNode</span><span class="o">*</span><span class="w"> </span><span class="n">node</span><span class="w"> </span><span class="p">);</span>

<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="n">XMLNode</span><span class="o">*</span><span class="w"> </span><span class="nf">ShallowClone</span><span class="p">(</span><span class="w"> </span><span class="n">XMLDocument</span><span class="o">*</span><span class="w"> </span><span class="n">document</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>

<span class="w">    </span><span class="n">XMLNode</span><span class="o">*</span><span class="w"> </span><span class="nf">DeepClone</span><span class="p">(</span><span class="w"> </span><span class="n">XMLDocument</span><span class="o">*</span><span class="w"> </span><span class="n">target</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="p">;</span>

<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="nf">ShallowEqual</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">XMLNode</span><span class="o">*</span><span class="w"> </span><span class="n">compare</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>

<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="nf">Accept</span><span class="p">(</span><span class="w"> </span><span class="n">XMLVisitor</span><span class="o">*</span><span class="w"> </span><span class="n">visitor</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">SetUserData</span><span class="p">(</span><span class="kt">void</span><span class="o">*</span><span class="w"> </span><span class="n">userData</span><span class="p">)</span><span class="w">    </span><span class="p">{</span><span class="w"> </span><span class="n">_userData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">userData</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>

<span class="w">    </span><span class="kt">void</span><span class="o">*</span><span class="w"> </span><span class="nf">GetUserData</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w">           </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">_userData</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>

<span class="k">protected</span><span class="o">:</span>
<span class="w">    </span><span class="k">explicit</span><span class="w"> </span><span class="n">XMLNode</span><span class="p">(</span><span class="w"> </span><span class="n">XMLDocument</span><span class="o">*</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="o">~</span><span class="n">XMLNode</span><span class="p">();</span>

<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="nf">ParseDeep</span><span class="p">(</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">p</span><span class="p">,</span><span class="w"> </span><span class="n">StrPair</span><span class="o">*</span><span class="w"> </span><span class="n">parentEndTag</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">curLineNumPtr</span><span class="p">);</span>

<span class="w">    </span><span class="n">XMLDocument</span><span class="o">*</span><span class="w">    </span><span class="n">_document</span><span class="p">;</span>
<span class="w">    </span><span class="n">XMLNode</span><span class="o">*</span><span class="w">        </span><span class="n">_parent</span><span class="p">;</span>
<span class="w">    </span><span class="k">mutable</span><span class="w"> </span><span class="n">StrPair</span><span class="w"> </span><span class="n">_value</span><span class="p">;</span>
<span class="w">    </span><span class="kt">int</span><span class="w">             </span><span class="n">_parseLineNum</span><span class="p">;</span>

<span class="w">    </span><span class="n">XMLNode</span><span class="o">*</span><span class="w">        </span><span class="n">_firstChild</span><span class="p">;</span>
<span class="w">    </span><span class="n">XMLNode</span><span class="o">*</span><span class="w">        </span><span class="n">_lastChild</span><span class="p">;</span>

<span class="w">    </span><span class="n">XMLNode</span><span class="o">*</span><span class="w">        </span><span class="n">_prev</span><span class="p">;</span>
<span class="w">    </span><span class="n">XMLNode</span><span class="o">*</span><span class="w">        </span><span class="n">_next</span><span class="p">;</span>

<span class="w">    </span><span class="kt">void</span><span class="o">*</span><span class="w">           </span><span class="n">_userData</span><span class="p">;</span>

<span class="k">private</span><span class="o">:</span>
<span class="w">    </span><span class="n">MemPool</span><span class="o">*</span><span class="w">        </span><span class="n">_memPool</span><span class="p">;</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">Unlink</span><span class="p">(</span><span class="w"> </span><span class="n">XMLNode</span><span class="o">*</span><span class="w"> </span><span class="n">child</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">DeleteNode</span><span class="p">(</span><span class="w"> </span><span class="n">XMLNode</span><span class="o">*</span><span class="w"> </span><span class="n">node</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">InsertChildPreamble</span><span class="p">(</span><span class="w"> </span><span class="n">XMLNode</span><span class="o">*</span><span class="w"> </span><span class="n">insertThis</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="p">;</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">XMLElement</span><span class="o">*</span><span class="w"> </span><span class="nf">ToElementWithName</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="p">;</span>

<span class="w">    </span><span class="n">XMLNode</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">XMLNode</span><span class="o">&amp;</span><span class="w"> </span><span class="p">);</span><span class="w">  </span><span class="c1">// not supported</span>
<span class="w">    </span><span class="n">XMLNode</span><span class="o">&amp;</span><span class="w"> </span><span class="k">operator</span><span class="o">=</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">XMLNode</span><span class="o">&amp;</span><span class="w"> </span><span class="p">);</span><span class="w">   </span><span class="c1">// not supported</span>
<span class="p">};</span>


<span class="k">class</span><span class="w"> </span><span class="nc">TINYXML2_LIB</span><span class="w"> </span><span class="n">XMLText</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">public</span><span class="w"> </span><span class="n">XMLNode</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">friend</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">XMLDocument</span><span class="p">;</span>
<span class="k">public</span><span class="o">:</span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">Accept</span><span class="p">(</span><span class="w"> </span><span class="n">XMLVisitor</span><span class="o">*</span><span class="w"> </span><span class="n">visitor</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="p">;</span>

<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="n">XMLText</span><span class="o">*</span><span class="w"> </span><span class="nf">ToText</span><span class="p">()</span><span class="w">           </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">XMLText</span><span class="o">*</span><span class="w"> </span><span class="nf">ToText</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w">   </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">SetCData</span><span class="p">(</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">isCData</span><span class="w"> </span><span class="p">)</span><span class="w">           </span><span class="p">{</span>
<span class="w">        </span><span class="n">_isCData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">isCData</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="nf">CData</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w">                      </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">_isCData</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="n">XMLNode</span><span class="o">*</span><span class="w"> </span><span class="nf">ShallowClone</span><span class="p">(</span><span class="w"> </span><span class="n">XMLDocument</span><span class="o">*</span><span class="w"> </span><span class="n">document</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="p">;</span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="nf">ShallowEqual</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">XMLNode</span><span class="o">*</span><span class="w"> </span><span class="n">compare</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="p">;</span>

<span class="k">protected</span><span class="o">:</span>
<span class="w">    </span><span class="k">explicit</span><span class="w"> </span><span class="n">XMLText</span><span class="p">(</span><span class="w"> </span><span class="n">XMLDocument</span><span class="o">*</span><span class="w"> </span><span class="n">doc</span><span class="w"> </span><span class="p">)</span><span class="w">    </span><span class="o">:</span><span class="w"> </span><span class="n">XMLNode</span><span class="p">(</span><span class="w"> </span><span class="n">doc</span><span class="w"> </span><span class="p">),</span><span class="w"> </span><span class="n">_isCData</span><span class="p">(</span><span class="w"> </span><span class="nb">false</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{}</span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="o">~</span><span class="n">XMLText</span><span class="p">()</span><span class="w">                                              </span><span class="p">{}</span>

<span class="w">    </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">ParseDeep</span><span class="p">(</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">p</span><span class="p">,</span><span class="w"> </span><span class="n">StrPair</span><span class="o">*</span><span class="w"> </span><span class="n">parentEndTag</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">curLineNumPtr</span><span class="w"> </span><span class="p">);</span>

<span class="k">private</span><span class="o">:</span>
<span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">_isCData</span><span class="p">;</span>

<span class="w">    </span><span class="n">XMLText</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">XMLText</span><span class="o">&amp;</span><span class="w"> </span><span class="p">);</span><span class="w">  </span><span class="c1">// not supported</span>
<span class="w">    </span><span class="n">XMLText</span><span class="o">&amp;</span><span class="w"> </span><span class="k">operator</span><span class="o">=</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">XMLText</span><span class="o">&amp;</span><span class="w"> </span><span class="p">);</span><span class="w">   </span><span class="c1">// not supported</span>
<span class="p">};</span>


<span class="k">class</span><span class="w"> </span><span class="nc">TINYXML2_LIB</span><span class="w"> </span><span class="n">XMLComment</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">public</span><span class="w"> </span><span class="n">XMLNode</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">friend</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">XMLDocument</span><span class="p">;</span>
<span class="k">public</span><span class="o">:</span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="n">XMLComment</span><span class="o">*</span><span class="w"> </span><span class="n">ToComment</span><span class="p">()</span><span class="w">                 </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">XMLComment</span><span class="o">*</span><span class="w"> </span><span class="n">ToComment</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w">     </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">Accept</span><span class="p">(</span><span class="w"> </span><span class="n">XMLVisitor</span><span class="o">*</span><span class="w"> </span><span class="n">visitor</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="p">;</span>

<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="n">XMLNode</span><span class="o">*</span><span class="w"> </span><span class="nf">ShallowClone</span><span class="p">(</span><span class="w"> </span><span class="n">XMLDocument</span><span class="o">*</span><span class="w"> </span><span class="n">document</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="p">;</span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="nf">ShallowEqual</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">XMLNode</span><span class="o">*</span><span class="w"> </span><span class="n">compare</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="p">;</span>

<span class="k">protected</span><span class="o">:</span>
<span class="w">    </span><span class="k">explicit</span><span class="w"> </span><span class="n">XMLComment</span><span class="p">(</span><span class="w"> </span><span class="n">XMLDocument</span><span class="o">*</span><span class="w"> </span><span class="n">doc</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="o">~</span><span class="n">XMLComment</span><span class="p">();</span>

<span class="w">    </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="nf">ParseDeep</span><span class="p">(</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">p</span><span class="p">,</span><span class="w"> </span><span class="n">StrPair</span><span class="o">*</span><span class="w"> </span><span class="n">parentEndTag</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">curLineNumPtr</span><span class="p">);</span>

<span class="k">private</span><span class="o">:</span>
<span class="w">    </span><span class="n">XMLComment</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">XMLComment</span><span class="o">&amp;</span><span class="w"> </span><span class="p">);</span><span class="w">    </span><span class="c1">// not supported</span>
<span class="w">    </span><span class="n">XMLComment</span><span class="o">&amp;</span><span class="w"> </span><span class="k">operator</span><span class="o">=</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">XMLComment</span><span class="o">&amp;</span><span class="w"> </span><span class="p">);</span><span class="w"> </span><span class="c1">// not supported</span>
<span class="p">};</span>


<span class="k">class</span><span class="w"> </span><span class="nc">TINYXML2_LIB</span><span class="w"> </span><span class="n">XMLDeclaration</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">public</span><span class="w"> </span><span class="n">XMLNode</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">friend</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">XMLDocument</span><span class="p">;</span>
<span class="k">public</span><span class="o">:</span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="n">XMLDeclaration</span><span class="o">*</span><span class="w"> </span><span class="n">ToDeclaration</span><span class="p">()</span><span class="w">                 </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">XMLDeclaration</span><span class="o">*</span><span class="w"> </span><span class="n">ToDeclaration</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w">     </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">Accept</span><span class="p">(</span><span class="w"> </span><span class="n">XMLVisitor</span><span class="o">*</span><span class="w"> </span><span class="n">visitor</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="p">;</span>

<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="n">XMLNode</span><span class="o">*</span><span class="w"> </span><span class="nf">ShallowClone</span><span class="p">(</span><span class="w"> </span><span class="n">XMLDocument</span><span class="o">*</span><span class="w"> </span><span class="n">document</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="p">;</span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="nf">ShallowEqual</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">XMLNode</span><span class="o">*</span><span class="w"> </span><span class="n">compare</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="p">;</span>

<span class="k">protected</span><span class="o">:</span>
<span class="w">    </span><span class="k">explicit</span><span class="w"> </span><span class="n">XMLDeclaration</span><span class="p">(</span><span class="w"> </span><span class="n">XMLDocument</span><span class="o">*</span><span class="w"> </span><span class="n">doc</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="o">~</span><span class="n">XMLDeclaration</span><span class="p">();</span>

<span class="w">    </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="nf">ParseDeep</span><span class="p">(</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">p</span><span class="p">,</span><span class="w"> </span><span class="n">StrPair</span><span class="o">*</span><span class="w"> </span><span class="n">parentEndTag</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">curLineNumPtr</span><span class="w"> </span><span class="p">);</span>

<span class="k">private</span><span class="o">:</span>
<span class="w">    </span><span class="n">XMLDeclaration</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">XMLDeclaration</span><span class="o">&amp;</span><span class="w"> </span><span class="p">);</span><span class="w">    </span><span class="c1">// not supported</span>
<span class="w">    </span><span class="n">XMLDeclaration</span><span class="o">&amp;</span><span class="w"> </span><span class="k">operator</span><span class="o">=</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">XMLDeclaration</span><span class="o">&amp;</span><span class="w"> </span><span class="p">);</span><span class="w"> </span><span class="c1">// not supported</span>
<span class="p">};</span>


<span class="k">class</span><span class="w"> </span><span class="nc">TINYXML2_LIB</span><span class="w"> </span><span class="n">XMLUnknown</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">public</span><span class="w"> </span><span class="n">XMLNode</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">friend</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">XMLDocument</span><span class="p">;</span>
<span class="k">public</span><span class="o">:</span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="n">XMLUnknown</span><span class="o">*</span><span class="w"> </span><span class="n">ToUnknown</span><span class="p">()</span><span class="w">                 </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">XMLUnknown</span><span class="o">*</span><span class="w"> </span><span class="n">ToUnknown</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w">     </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">Accept</span><span class="p">(</span><span class="w"> </span><span class="n">XMLVisitor</span><span class="o">*</span><span class="w"> </span><span class="n">visitor</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="p">;</span>

<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="n">XMLNode</span><span class="o">*</span><span class="w"> </span><span class="nf">ShallowClone</span><span class="p">(</span><span class="w"> </span><span class="n">XMLDocument</span><span class="o">*</span><span class="w"> </span><span class="n">document</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="p">;</span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="nf">ShallowEqual</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">XMLNode</span><span class="o">*</span><span class="w"> </span><span class="n">compare</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="p">;</span>

<span class="k">protected</span><span class="o">:</span>
<span class="w">    </span><span class="k">explicit</span><span class="w"> </span><span class="n">XMLUnknown</span><span class="p">(</span><span class="w"> </span><span class="n">XMLDocument</span><span class="o">*</span><span class="w"> </span><span class="n">doc</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="o">~</span><span class="n">XMLUnknown</span><span class="p">();</span>

<span class="w">    </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="nf">ParseDeep</span><span class="p">(</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">p</span><span class="p">,</span><span class="w"> </span><span class="n">StrPair</span><span class="o">*</span><span class="w"> </span><span class="n">parentEndTag</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">curLineNumPtr</span><span class="w"> </span><span class="p">);</span>

<span class="k">private</span><span class="o">:</span>
<span class="w">    </span><span class="n">XMLUnknown</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">XMLUnknown</span><span class="o">&amp;</span><span class="w"> </span><span class="p">);</span><span class="w">    </span><span class="c1">// not supported</span>
<span class="w">    </span><span class="n">XMLUnknown</span><span class="o">&amp;</span><span class="w"> </span><span class="k">operator</span><span class="o">=</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">XMLUnknown</span><span class="o">&amp;</span><span class="w"> </span><span class="p">);</span><span class="w"> </span><span class="c1">// not supported</span>
<span class="p">};</span>



<span class="k">class</span><span class="w"> </span><span class="nc">TINYXML2_LIB</span><span class="w"> </span><span class="n">XMLAttribute</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">friend</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">XMLElement</span><span class="p">;</span>
<span class="k">public</span><span class="o">:</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">Name</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="p">;</span>

<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="nf">Value</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="p">;</span>

<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="nf">GetLineNum</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">_parseLineNum</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>

<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">XMLAttribute</span><span class="o">*</span><span class="w"> </span><span class="nf">Next</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">_next</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="nf">IntValue</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">        </span><span class="n">QueryIntValue</span><span class="p">(</span><span class="o">&amp;</span><span class="n">i</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kt">int64_t</span><span class="w"> </span><span class="nf">Int64Value</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kt">int64_t</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">        </span><span class="n">QueryInt64Value</span><span class="p">(</span><span class="o">&amp;</span><span class="n">i</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kt">uint64_t</span><span class="w"> </span><span class="nf">Unsigned64Value</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kt">uint64_t</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">        </span><span class="n">QueryUnsigned64Value</span><span class="p">(</span><span class="o">&amp;</span><span class="n">i</span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kt">unsigned</span><span class="w"> </span><span class="nf">UnsignedValue</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w">          </span><span class="p">{</span>
<span class="w">        </span><span class="kt">unsigned</span><span class="w"> </span><span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
<span class="w">        </span><span class="n">QueryUnsignedValue</span><span class="p">(</span><span class="w"> </span><span class="o">&amp;</span><span class="n">i</span><span class="w"> </span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="kt">bool</span><span class="w">     </span><span class="nf">BoolValue</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w">              </span><span class="p">{</span>
<span class="w">        </span><span class="kt">bool</span><span class="w"> </span><span class="n">b</span><span class="o">=</span><span class="nb">false</span><span class="p">;</span>
<span class="w">        </span><span class="n">QueryBoolValue</span><span class="p">(</span><span class="w"> </span><span class="o">&amp;</span><span class="n">b</span><span class="w"> </span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">b</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="kt">double</span><span class="w">   </span><span class="nf">DoubleValue</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w">            </span><span class="p">{</span>
<span class="w">        </span><span class="kt">double</span><span class="w"> </span><span class="n">d</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
<span class="w">        </span><span class="n">QueryDoubleValue</span><span class="p">(</span><span class="w"> </span><span class="o">&amp;</span><span class="n">d</span><span class="w"> </span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">d</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="kt">float</span><span class="w">    </span><span class="nf">FloatValue</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w">             </span><span class="p">{</span>
<span class="w">        </span><span class="kt">float</span><span class="w"> </span><span class="n">f</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
<span class="w">        </span><span class="n">QueryFloatValue</span><span class="p">(</span><span class="w"> </span><span class="o">&amp;</span><span class="n">f</span><span class="w"> </span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">f</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">XMLError</span><span class="w"> </span><span class="nf">QueryIntValue</span><span class="p">(</span><span class="w"> </span><span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="p">;</span>
<span class="w">    </span><span class="n">XMLError</span><span class="w"> </span><span class="nf">QueryUnsignedValue</span><span class="p">(</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="p">;</span>
<span class="w">    </span><span class="n">XMLError</span><span class="w"> </span><span class="nf">QueryInt64Value</span><span class="p">(</span><span class="kt">int64_t</span><span class="o">*</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="p">;</span>
<span class="w">    </span><span class="n">XMLError</span><span class="w"> </span><span class="nf">QueryUnsigned64Value</span><span class="p">(</span><span class="kt">uint64_t</span><span class="o">*</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="p">;</span>
<span class="w">    </span><span class="n">XMLError</span><span class="w"> </span><span class="nf">QueryBoolValue</span><span class="p">(</span><span class="w"> </span><span class="kt">bool</span><span class="o">*</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="p">;</span>
<span class="w">    </span><span class="n">XMLError</span><span class="w"> </span><span class="nf">QueryDoubleValue</span><span class="p">(</span><span class="w"> </span><span class="kt">double</span><span class="o">*</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="p">;</span>
<span class="w">    </span><span class="n">XMLError</span><span class="w"> </span><span class="nf">QueryFloatValue</span><span class="p">(</span><span class="w"> </span><span class="kt">float</span><span class="o">*</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="p">;</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">SetAttribute</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">SetAttribute</span><span class="p">(</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">SetAttribute</span><span class="p">(</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">SetAttribute</span><span class="p">(</span><span class="kt">int64_t</span><span class="w"> </span><span class="n">value</span><span class="p">);</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">SetAttribute</span><span class="p">(</span><span class="kt">uint64_t</span><span class="w"> </span><span class="n">value</span><span class="p">);</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">SetAttribute</span><span class="p">(</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">SetAttribute</span><span class="p">(</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">SetAttribute</span><span class="p">(</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">);</span>

<span class="k">private</span><span class="o">:</span>
<span class="w">    </span><span class="k">enum</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">BUF_SIZE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">200</span><span class="w"> </span><span class="p">};</span>

<span class="w">    </span><span class="n">XMLAttribute</span><span class="p">()</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">_name</span><span class="p">(),</span><span class="w"> </span><span class="n">_value</span><span class="p">(),</span><span class="n">_parseLineNum</span><span class="p">(</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">),</span><span class="w"> </span><span class="n">_next</span><span class="p">(</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">),</span><span class="w"> </span><span class="n">_memPool</span><span class="p">(</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{}</span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="o">~</span><span class="n">XMLAttribute</span><span class="p">()</span><span class="w"> </span><span class="p">{}</span>

<span class="w">    </span><span class="n">XMLAttribute</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">XMLAttribute</span><span class="o">&amp;</span><span class="w"> </span><span class="p">);</span><span class="w">    </span><span class="c1">// not supported</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="o">=</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">XMLAttribute</span><span class="o">&amp;</span><span class="w"> </span><span class="p">);</span><span class="w">  </span><span class="c1">// not supported</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">SetName</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="p">);</span>

<span class="w">    </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="nf">ParseDeep</span><span class="p">(</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">p</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">processEntities</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">curLineNumPtr</span><span class="w"> </span><span class="p">);</span>

<span class="w">    </span><span class="k">mutable</span><span class="w"> </span><span class="n">StrPair</span><span class="w"> </span><span class="n">_name</span><span class="p">;</span>
<span class="w">    </span><span class="k">mutable</span><span class="w"> </span><span class="n">StrPair</span><span class="w"> </span><span class="n">_value</span><span class="p">;</span>
<span class="w">    </span><span class="kt">int</span><span class="w">             </span><span class="n">_parseLineNum</span><span class="p">;</span>
<span class="w">    </span><span class="n">XMLAttribute</span><span class="o">*</span><span class="w">   </span><span class="n">_next</span><span class="p">;</span>
<span class="w">    </span><span class="n">MemPool</span><span class="o">*</span><span class="w">        </span><span class="n">_memPool</span><span class="p">;</span>
<span class="p">};</span>


<span class="k">class</span><span class="w"> </span><span class="nc">TINYXML2_LIB</span><span class="w"> </span><span class="n">XMLElement</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">public</span><span class="w"> </span><span class="n">XMLNode</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">friend</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">XMLDocument</span><span class="p">;</span>
<span class="k">public</span><span class="o">:</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">Name</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w">        </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Value</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="n">SetName</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">staticMem</span><span class="o">=</span><span class="nb">false</span><span class="w"> </span><span class="p">)</span><span class="w">   </span><span class="p">{</span>
<span class="w">        </span><span class="n">SetValue</span><span class="p">(</span><span class="w"> </span><span class="n">str</span><span class="p">,</span><span class="w"> </span><span class="n">staticMem</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="n">XMLElement</span><span class="o">*</span><span class="w"> </span><span class="n">ToElement</span><span class="p">()</span><span class="w">             </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">XMLElement</span><span class="o">*</span><span class="w"> </span><span class="n">ToElement</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">Accept</span><span class="p">(</span><span class="w"> </span><span class="n">XMLVisitor</span><span class="o">*</span><span class="w"> </span><span class="n">visitor</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="p">;</span>

<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="nf">Attribute</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">value</span><span class="o">=</span><span class="mi">0</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="p">;</span>

<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="nf">IntAttribute</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">defaultValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="p">;</span>
<span class="w">    </span><span class="kt">unsigned</span><span class="w"> </span><span class="nf">UnsignedAttribute</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="n">defaultValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="p">;</span>
<span class="w">    </span><span class="kt">int64_t</span><span class="w"> </span><span class="nf">Int64Attribute</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="kt">int64_t</span><span class="w"> </span><span class="n">defaultValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="p">;</span>
<span class="w">    </span><span class="kt">uint64_t</span><span class="w"> </span><span class="nf">Unsigned64Attribute</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="kt">uint64_t</span><span class="w"> </span><span class="n">defaultValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="p">;</span>
<span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="nf">BoolAttribute</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">defaultValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="p">;</span>
<span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="nf">DoubleAttribute</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">defaultValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="p">;</span>
<span class="w">    </span><span class="kt">float</span><span class="w"> </span><span class="nf">FloatAttribute</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">defaultValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="p">;</span>

<span class="w">    </span><span class="n">XMLError</span><span class="w"> </span><span class="nf">QueryIntAttribute</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="w">                </span><span class="p">{</span>
<span class="w">        </span><span class="k">const</span><span class="w"> </span><span class="n">XMLAttribute</span><span class="o">*</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">FindAttribute</span><span class="p">(</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="p">);</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="o">!</span><span class="n">a</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">XML_NO_ATTRIBUTE</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">a</span><span class="o">-&gt;</span><span class="n">QueryIntValue</span><span class="p">(</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">XMLError</span><span class="w"> </span><span class="nf">QueryUnsignedAttribute</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="w">  </span><span class="p">{</span>
<span class="w">        </span><span class="k">const</span><span class="w"> </span><span class="n">XMLAttribute</span><span class="o">*</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">FindAttribute</span><span class="p">(</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="p">);</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="o">!</span><span class="n">a</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">XML_NO_ATTRIBUTE</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">a</span><span class="o">-&gt;</span><span class="n">QueryUnsignedValue</span><span class="p">(</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">XMLError</span><span class="w"> </span><span class="nf">QueryInt64Attribute</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="kt">int64_t</span><span class="o">*</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">const</span><span class="w"> </span><span class="n">XMLAttribute</span><span class="o">*</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">FindAttribute</span><span class="p">(</span><span class="n">name</span><span class="p">);</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">XML_NO_ATTRIBUTE</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">a</span><span class="o">-&gt;</span><span class="n">QueryInt64Value</span><span class="p">(</span><span class="n">value</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">XMLError</span><span class="w"> </span><span class="nf">QueryUnsigned64Attribute</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="kt">uint64_t</span><span class="o">*</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">const</span><span class="w"> </span><span class="n">XMLAttribute</span><span class="o">*</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">FindAttribute</span><span class="p">(</span><span class="n">name</span><span class="p">);</span>
<span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">XML_NO_ATTRIBUTE</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">a</span><span class="o">-&gt;</span><span class="n">QueryUnsigned64Value</span><span class="p">(</span><span class="n">value</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">XMLError</span><span class="w"> </span><span class="nf">QueryBoolAttribute</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="o">*</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="w">              </span><span class="p">{</span>
<span class="w">        </span><span class="k">const</span><span class="w"> </span><span class="n">XMLAttribute</span><span class="o">*</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">FindAttribute</span><span class="p">(</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="p">);</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="o">!</span><span class="n">a</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">XML_NO_ATTRIBUTE</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">a</span><span class="o">-&gt;</span><span class="n">QueryBoolValue</span><span class="p">(</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="n">XMLError</span><span class="w"> </span><span class="nf">QueryDoubleAttribute</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="o">*</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="w">          </span><span class="p">{</span>
<span class="w">        </span><span class="k">const</span><span class="w"> </span><span class="n">XMLAttribute</span><span class="o">*</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">FindAttribute</span><span class="p">(</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="p">);</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="o">!</span><span class="n">a</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">XML_NO_ATTRIBUTE</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">a</span><span class="o">-&gt;</span><span class="n">QueryDoubleValue</span><span class="p">(</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="n">XMLError</span><span class="w"> </span><span class="nf">QueryFloatAttribute</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="kt">float</span><span class="o">*</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="w">            </span><span class="p">{</span>
<span class="w">        </span><span class="k">const</span><span class="w"> </span><span class="n">XMLAttribute</span><span class="o">*</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">FindAttribute</span><span class="p">(</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="p">);</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="o">!</span><span class="n">a</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">XML_NO_ATTRIBUTE</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">a</span><span class="o">-&gt;</span><span class="n">QueryFloatValue</span><span class="p">(</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">XMLError</span><span class="w"> </span><span class="nf">QueryStringAttribute</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">**</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">const</span><span class="w"> </span><span class="n">XMLAttribute</span><span class="o">*</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">FindAttribute</span><span class="p">(</span><span class="n">name</span><span class="p">);</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">XML_NO_ATTRIBUTE</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="o">*</span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="o">-&gt;</span><span class="n">Value</span><span class="p">();</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">XML_SUCCESS</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>



<span class="w">    </span><span class="n">XMLError</span><span class="w"> </span><span class="nf">QueryAttribute</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">QueryIntAttribute</span><span class="p">(</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">XMLError</span><span class="w"> </span><span class="nf">QueryAttribute</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">QueryUnsignedAttribute</span><span class="p">(</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">XMLError</span><span class="w"> </span><span class="nf">QueryAttribute</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="kt">int64_t</span><span class="o">*</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">QueryInt64Attribute</span><span class="p">(</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">XMLError</span><span class="w"> </span><span class="nf">QueryAttribute</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="kt">uint64_t</span><span class="o">*</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">QueryUnsigned64Attribute</span><span class="p">(</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">XMLError</span><span class="w"> </span><span class="nf">QueryAttribute</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="o">*</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">QueryBoolAttribute</span><span class="p">(</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">XMLError</span><span class="w"> </span><span class="nf">QueryAttribute</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="o">*</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">QueryDoubleAttribute</span><span class="p">(</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">XMLError</span><span class="w"> </span><span class="nf">QueryAttribute</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="kt">float</span><span class="o">*</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">QueryFloatAttribute</span><span class="p">(</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">XMLError</span><span class="w"> </span><span class="nf">QueryAttribute</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">**</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">QueryStringAttribute</span><span class="p">(</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">value</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">SetAttribute</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">)</span><span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="n">XMLAttribute</span><span class="o">*</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">FindOrCreateAttribute</span><span class="p">(</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="p">);</span>
<span class="w">        </span><span class="n">a</span><span class="o">-&gt;</span><span class="n">SetAttribute</span><span class="p">(</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">SetAttribute</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">)</span><span class="w">            </span><span class="p">{</span>
<span class="w">        </span><span class="n">XMLAttribute</span><span class="o">*</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">FindOrCreateAttribute</span><span class="p">(</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="p">);</span>
<span class="w">        </span><span class="n">a</span><span class="o">-&gt;</span><span class="n">SetAttribute</span><span class="p">(</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">SetAttribute</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">)</span><span class="w">       </span><span class="p">{</span>
<span class="w">        </span><span class="n">XMLAttribute</span><span class="o">*</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">FindOrCreateAttribute</span><span class="p">(</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="p">);</span>
<span class="w">        </span><span class="n">a</span><span class="o">-&gt;</span><span class="n">SetAttribute</span><span class="p">(</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">SetAttribute</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="kt">int64_t</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">XMLAttribute</span><span class="o">*</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">FindOrCreateAttribute</span><span class="p">(</span><span class="n">name</span><span class="p">);</span>
<span class="w">        </span><span class="n">a</span><span class="o">-&gt;</span><span class="n">SetAttribute</span><span class="p">(</span><span class="n">value</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">SetAttribute</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="kt">uint64_t</span><span class="w"> </span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">XMLAttribute</span><span class="o">*</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">FindOrCreateAttribute</span><span class="p">(</span><span class="n">name</span><span class="p">);</span>
<span class="w">        </span><span class="n">a</span><span class="o">-&gt;</span><span class="n">SetAttribute</span><span class="p">(</span><span class="n">value</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">SetAttribute</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">)</span><span class="w">           </span><span class="p">{</span>
<span class="w">        </span><span class="n">XMLAttribute</span><span class="o">*</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">FindOrCreateAttribute</span><span class="p">(</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="p">);</span>
<span class="w">        </span><span class="n">a</span><span class="o">-&gt;</span><span class="n">SetAttribute</span><span class="p">(</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">SetAttribute</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">)</span><span class="w">     </span><span class="p">{</span>
<span class="w">        </span><span class="n">XMLAttribute</span><span class="o">*</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">FindOrCreateAttribute</span><span class="p">(</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="p">);</span>
<span class="w">        </span><span class="n">a</span><span class="o">-&gt;</span><span class="n">SetAttribute</span><span class="p">(</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">SetAttribute</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">)</span><span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="n">XMLAttribute</span><span class="o">*</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">FindOrCreateAttribute</span><span class="p">(</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="p">);</span>
<span class="w">        </span><span class="n">a</span><span class="o">-&gt;</span><span class="n">SetAttribute</span><span class="p">(</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">DeleteAttribute</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="p">);</span>

<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">XMLAttribute</span><span class="o">*</span><span class="w"> </span><span class="nf">FirstAttribute</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">_rootAttribute</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">XMLAttribute</span><span class="o">*</span><span class="w"> </span><span class="nf">FindAttribute</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="p">;</span>

<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="nf">GetText</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="p">;</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">SetText</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">inText</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">SetText</span><span class="p">(</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">SetText</span><span class="p">(</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">SetText</span><span class="p">(</span><span class="kt">int64_t</span><span class="w"> </span><span class="n">value</span><span class="p">);</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">SetText</span><span class="p">(</span><span class="kt">uint64_t</span><span class="w"> </span><span class="n">value</span><span class="p">);</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">SetText</span><span class="p">(</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">SetText</span><span class="p">(</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">SetText</span><span class="p">(</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">);</span>

<span class="w">    </span><span class="n">XMLError</span><span class="w"> </span><span class="nf">QueryIntText</span><span class="p">(</span><span class="w"> </span><span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">ival</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="p">;</span>
<span class="w">    </span><span class="n">XMLError</span><span class="w"> </span><span class="nf">QueryUnsignedText</span><span class="p">(</span><span class="w"> </span><span class="kt">unsigned</span><span class="o">*</span><span class="w"> </span><span class="n">uval</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="p">;</span>
<span class="w">    </span><span class="n">XMLError</span><span class="w"> </span><span class="nf">QueryInt64Text</span><span class="p">(</span><span class="kt">int64_t</span><span class="o">*</span><span class="w"> </span><span class="n">uval</span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="p">;</span>
<span class="w">    </span><span class="n">XMLError</span><span class="w"> </span><span class="nf">QueryUnsigned64Text</span><span class="p">(</span><span class="kt">uint64_t</span><span class="o">*</span><span class="w"> </span><span class="n">uval</span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="p">;</span>
<span class="w">    </span><span class="n">XMLError</span><span class="w"> </span><span class="nf">QueryBoolText</span><span class="p">(</span><span class="w"> </span><span class="kt">bool</span><span class="o">*</span><span class="w"> </span><span class="n">bval</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="p">;</span>
<span class="w">    </span><span class="n">XMLError</span><span class="w"> </span><span class="nf">QueryDoubleText</span><span class="p">(</span><span class="w"> </span><span class="kt">double</span><span class="o">*</span><span class="w"> </span><span class="n">dval</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="p">;</span>
<span class="w">    </span><span class="n">XMLError</span><span class="w"> </span><span class="nf">QueryFloatText</span><span class="p">(</span><span class="w"> </span><span class="kt">float</span><span class="o">*</span><span class="w"> </span><span class="n">fval</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="p">;</span>

<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="nf">IntText</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">defaultValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="p">;</span>

<span class="w">    </span><span class="kt">unsigned</span><span class="w"> </span><span class="nf">UnsignedText</span><span class="p">(</span><span class="kt">unsigned</span><span class="w"> </span><span class="n">defaultValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="p">;</span>
<span class="w">    </span><span class="kt">int64_t</span><span class="w"> </span><span class="nf">Int64Text</span><span class="p">(</span><span class="kt">int64_t</span><span class="w"> </span><span class="n">defaultValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="p">;</span>
<span class="w">    </span><span class="kt">uint64_t</span><span class="w"> </span><span class="nf">Unsigned64Text</span><span class="p">(</span><span class="kt">uint64_t</span><span class="w"> </span><span class="n">defaultValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="p">;</span>
<span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="nf">BoolText</span><span class="p">(</span><span class="kt">bool</span><span class="w"> </span><span class="n">defaultValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="p">;</span>
<span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="nf">DoubleText</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">defaultValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="p">;</span>
<span class="w">    </span><span class="kt">float</span><span class="w"> </span><span class="nf">FloatText</span><span class="p">(</span><span class="kt">float</span><span class="w"> </span><span class="n">defaultValue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="p">;</span>

<span class="w">    </span><span class="n">XMLElement</span><span class="o">*</span><span class="w"> </span><span class="nf">InsertNewChildElement</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">name</span><span class="p">);</span>
<span class="w">    </span><span class="n">XMLComment</span><span class="o">*</span><span class="w"> </span><span class="nf">InsertNewComment</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">comment</span><span class="p">);</span>
<span class="w">    </span><span class="n">XMLText</span><span class="o">*</span><span class="w"> </span><span class="nf">InsertNewText</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">text</span><span class="p">);</span>
<span class="w">    </span><span class="n">XMLDeclaration</span><span class="o">*</span><span class="w"> </span><span class="nf">InsertNewDeclaration</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">text</span><span class="p">);</span>
<span class="w">    </span><span class="n">XMLUnknown</span><span class="o">*</span><span class="w"> </span><span class="nf">InsertNewUnknown</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">text</span><span class="p">);</span>


<span class="w">    </span><span class="c1">// internal:</span>
<span class="w">    </span><span class="k">enum</span><span class="w"> </span><span class="nc">ElementClosingType</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">OPEN</span><span class="p">,</span><span class="w">       </span><span class="c1">// &lt;foo&gt;</span>
<span class="w">        </span><span class="n">CLOSED</span><span class="p">,</span><span class="w">     </span><span class="c1">// &lt;foo/&gt;</span>
<span class="w">        </span><span class="n">CLOSING</span><span class="w">     </span><span class="c1">// &lt;/foo&gt;</span>
<span class="w">    </span><span class="p">};</span>
<span class="w">    </span><span class="n">ElementClosingType</span><span class="w"> </span><span class="nf">ClosingType</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">_closingType</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="n">XMLNode</span><span class="o">*</span><span class="w"> </span><span class="nf">ShallowClone</span><span class="p">(</span><span class="w"> </span><span class="n">XMLDocument</span><span class="o">*</span><span class="w"> </span><span class="n">document</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="p">;</span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="nf">ShallowEqual</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">XMLNode</span><span class="o">*</span><span class="w"> </span><span class="n">compare</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="p">;</span>

<span class="k">protected</span><span class="o">:</span>
<span class="w">    </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">ParseDeep</span><span class="p">(</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">p</span><span class="p">,</span><span class="w"> </span><span class="n">StrPair</span><span class="o">*</span><span class="w"> </span><span class="n">parentEndTag</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">curLineNumPtr</span><span class="w"> </span><span class="p">);</span>

<span class="k">private</span><span class="o">:</span>
<span class="w">    </span><span class="n">XMLElement</span><span class="p">(</span><span class="w"> </span><span class="n">XMLDocument</span><span class="o">*</span><span class="w"> </span><span class="n">doc</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="o">~</span><span class="n">XMLElement</span><span class="p">();</span>
<span class="w">    </span><span class="n">XMLElement</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">XMLElement</span><span class="o">&amp;</span><span class="w"> </span><span class="p">);</span><span class="w">    </span><span class="c1">// not supported</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="o">=</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">XMLElement</span><span class="o">&amp;</span><span class="w"> </span><span class="p">);</span><span class="w">    </span><span class="c1">// not supported</span>

<span class="w">    </span><span class="n">XMLAttribute</span><span class="o">*</span><span class="w"> </span><span class="nf">FindOrCreateAttribute</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="nf">ParseAttributes</span><span class="p">(</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">p</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">curLineNumPtr</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">DeleteAttribute</span><span class="p">(</span><span class="w"> </span><span class="n">XMLAttribute</span><span class="o">*</span><span class="w"> </span><span class="n">attribute</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="n">XMLAttribute</span><span class="o">*</span><span class="w"> </span><span class="nf">CreateAttribute</span><span class="p">();</span>

<span class="w">    </span><span class="k">enum</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">BUF_SIZE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">200</span><span class="w"> </span><span class="p">};</span>
<span class="w">    </span><span class="n">ElementClosingType</span><span class="w"> </span><span class="n">_closingType</span><span class="p">;</span>
<span class="w">    </span><span class="c1">// The attribute list is ordered; there is no &#39;lastAttribute&#39;</span>
<span class="w">    </span><span class="c1">// because the list needs to be scanned for dupes before adding</span>
<span class="w">    </span><span class="c1">// a new attribute.</span>
<span class="w">    </span><span class="n">XMLAttribute</span><span class="o">*</span><span class="w"> </span><span class="n">_rootAttribute</span><span class="p">;</span>
<span class="p">};</span>


<span class="k">enum</span><span class="w"> </span><span class="nc">Whitespace</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">PRESERVE_WHITESPACE</span><span class="p">,</span>
<span class="w">    </span><span class="n">COLLAPSE_WHITESPACE</span>
<span class="p">};</span>


<span class="k">class</span><span class="w"> </span><span class="nc">TINYXML2_LIB</span><span class="w"> </span><span class="n">XMLDocument</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">public</span><span class="w"> </span><span class="n">XMLNode</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">friend</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">XMLElement</span><span class="p">;</span>
<span class="w">    </span><span class="c1">// Gives access to SetError and Push/PopDepth, but over-access for everything else.</span>
<span class="w">    </span><span class="c1">// Wishing C++ had &quot;internal&quot; scope.</span>
<span class="w">    </span><span class="k">friend</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">XMLNode</span><span class="p">;</span>
<span class="w">    </span><span class="k">friend</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">XMLText</span><span class="p">;</span>
<span class="w">    </span><span class="k">friend</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">XMLComment</span><span class="p">;</span>
<span class="w">    </span><span class="k">friend</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">XMLDeclaration</span><span class="p">;</span>
<span class="w">    </span><span class="k">friend</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">XMLUnknown</span><span class="p">;</span>
<span class="k">public</span><span class="o">:</span>
<span class="w">    </span><span class="n">XMLDocument</span><span class="p">(</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">processEntities</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="p">,</span><span class="w"> </span><span class="n">Whitespace</span><span class="w"> </span><span class="n">whitespaceMode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">PRESERVE_WHITESPACE</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="o">~</span><span class="n">XMLDocument</span><span class="p">();</span>

<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="n">XMLDocument</span><span class="o">*</span><span class="w"> </span><span class="nf">ToDocument</span><span class="p">()</span><span class="w">               </span><span class="p">{</span>
<span class="w">        </span><span class="n">TIXMLASSERT</span><span class="p">(</span><span class="w"> </span><span class="k">this</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">_document</span><span class="w"> </span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">XMLDocument</span><span class="o">*</span><span class="w"> </span><span class="nf">ToDocument</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w">   </span><span class="p">{</span>
<span class="w">        </span><span class="n">TIXMLASSERT</span><span class="p">(</span><span class="w"> </span><span class="k">this</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">_document</span><span class="w"> </span><span class="p">);</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">XMLError</span><span class="w"> </span><span class="nf">Parse</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">xml</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">nBytes</span><span class="o">=</span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">size_t</span><span class="o">&gt;</span><span class="p">(</span><span class="mi">-1</span><span class="p">)</span><span class="w"> </span><span class="p">);</span>

<span class="w">    </span><span class="n">XMLError</span><span class="w"> </span><span class="nf">LoadFile</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">filename</span><span class="w"> </span><span class="p">);</span>

<span class="w">    </span><span class="n">XMLError</span><span class="w"> </span><span class="nf">LoadFile</span><span class="p">(</span><span class="w"> </span><span class="kt">FILE</span><span class="o">*</span><span class="w"> </span><span class="p">);</span>

<span class="w">    </span><span class="n">XMLError</span><span class="w"> </span><span class="nf">SaveFile</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">filename</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">compact</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="w"> </span><span class="p">);</span>

<span class="w">    </span><span class="n">XMLError</span><span class="w"> </span><span class="nf">SaveFile</span><span class="p">(</span><span class="w"> </span><span class="kt">FILE</span><span class="o">*</span><span class="w"> </span><span class="n">fp</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">compact</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="w"> </span><span class="p">);</span>

<span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="nf">ProcessEntities</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w">        </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">_processEntities</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="n">Whitespace</span><span class="w"> </span><span class="nf">WhitespaceMode</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w">   </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">_whitespaceMode</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="nf">HasBOM</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">_writeBOM</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">SetBOM</span><span class="p">(</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">useBOM</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">_writeBOM</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">useBOM</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">XMLElement</span><span class="o">*</span><span class="w"> </span><span class="nf">RootElement</span><span class="p">()</span><span class="w">               </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">FirstChildElement</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">XMLElement</span><span class="o">*</span><span class="w"> </span><span class="nf">RootElement</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w">   </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">FirstChildElement</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">Print</span><span class="p">(</span><span class="w"> </span><span class="n">XMLPrinter</span><span class="o">*</span><span class="w"> </span><span class="n">streamer</span><span class="o">=</span><span class="mi">0</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="p">;</span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="nf">Accept</span><span class="p">(</span><span class="w"> </span><span class="n">XMLVisitor</span><span class="o">*</span><span class="w"> </span><span class="n">visitor</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="p">;</span>

<span class="w">    </span><span class="n">XMLElement</span><span class="o">*</span><span class="w"> </span><span class="nf">NewElement</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="n">XMLComment</span><span class="o">*</span><span class="w"> </span><span class="nf">NewComment</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">comment</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="n">XMLText</span><span class="o">*</span><span class="w"> </span><span class="nf">NewText</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">text</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="n">XMLDeclaration</span><span class="o">*</span><span class="w"> </span><span class="nf">NewDeclaration</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">text</span><span class="o">=</span><span class="mi">0</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="n">XMLUnknown</span><span class="o">*</span><span class="w"> </span><span class="nf">NewUnknown</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">text</span><span class="w"> </span><span class="p">);</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">DeleteNode</span><span class="p">(</span><span class="w"> </span><span class="n">XMLNode</span><span class="o">*</span><span class="w"> </span><span class="n">node</span><span class="w"> </span><span class="p">);</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">ClearError</span><span class="p">();</span>

<span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="nf">Error</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">_errorID</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">XML_SUCCESS</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="n">XMLError</span><span class="w">  </span><span class="nf">ErrorID</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">_errorID</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="nf">ErrorName</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="p">;</span>
<span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="nf">ErrorIDToName</span><span class="p">(</span><span class="n">XMLError</span><span class="w"> </span><span class="n">errorID</span><span class="p">);</span>

<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="nf">ErrorStr</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="p">;</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">PrintError</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="p">;</span>

<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="nf">ErrorLineNum</span><span class="p">()</span><span class="w"> </span><span class="k">const</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">_errorLineNum</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">Clear</span><span class="p">();</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">DeepCopy</span><span class="p">(</span><span class="n">XMLDocument</span><span class="o">*</span><span class="w"> </span><span class="n">target</span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// internal</span>
<span class="w">    </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="nf">Identify</span><span class="p">(</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">p</span><span class="p">,</span><span class="w"> </span><span class="n">XMLNode</span><span class="o">**</span><span class="w"> </span><span class="n">node</span><span class="w"> </span><span class="p">);</span>

<span class="w">    </span><span class="c1">// internal</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">MarkInUse</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">XMLNode</span><span class="o">*</span><span class="w"> </span><span class="k">const</span><span class="p">);</span>

<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="n">XMLNode</span><span class="o">*</span><span class="w"> </span><span class="nf">ShallowClone</span><span class="p">(</span><span class="w"> </span><span class="n">XMLDocument</span><span class="o">*</span><span class="w"> </span><span class="cm">/*document*/</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="nf">ShallowEqual</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">XMLNode</span><span class="o">*</span><span class="w"> </span><span class="cm">/*compare*/</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="w">   </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="k">private</span><span class="o">:</span>
<span class="w">    </span><span class="n">XMLDocument</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">XMLDocument</span><span class="o">&amp;</span><span class="w"> </span><span class="p">);</span><span class="w">  </span><span class="c1">// not supported</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="k">operator</span><span class="o">=</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">XMLDocument</span><span class="o">&amp;</span><span class="w"> </span><span class="p">);</span><span class="w">   </span><span class="c1">// not supported</span>

<span class="w">    </span><span class="kt">bool</span><span class="w">            </span><span class="n">_writeBOM</span><span class="p">;</span>
<span class="w">    </span><span class="kt">bool</span><span class="w">            </span><span class="n">_processEntities</span><span class="p">;</span>
<span class="w">    </span><span class="n">XMLError</span><span class="w">        </span><span class="n">_errorID</span><span class="p">;</span>
<span class="w">    </span><span class="n">Whitespace</span><span class="w">      </span><span class="n">_whitespaceMode</span><span class="p">;</span>
<span class="w">    </span><span class="k">mutable</span><span class="w"> </span><span class="n">StrPair</span><span class="w"> </span><span class="n">_errorStr</span><span class="p">;</span>
<span class="w">    </span><span class="kt">int</span><span class="w">             </span><span class="n">_errorLineNum</span><span class="p">;</span>
<span class="w">    </span><span class="kt">char</span><span class="o">*</span><span class="w">           </span><span class="n">_charBuffer</span><span class="p">;</span>
<span class="w">    </span><span class="kt">int</span><span class="w">             </span><span class="n">_parseCurLineNum</span><span class="p">;</span>
<span class="w">    </span><span class="kt">int</span><span class="w">             </span><span class="n">_parsingDepth</span><span class="p">;</span>
<span class="w">    </span><span class="c1">// Memory tracking does add some overhead.</span>
<span class="w">    </span><span class="c1">// However, the code assumes that you don&#39;t</span>
<span class="w">    </span><span class="c1">// have a bunch of unlinked nodes around.</span>
<span class="w">    </span><span class="c1">// Therefore it takes less memory to track</span>
<span class="w">    </span><span class="c1">// in the document vs. a linked list in the XMLNode,</span>
<span class="w">    </span><span class="c1">// and the performance is the same.</span>
<span class="w">    </span><span class="n">DynArray</span><span class="o">&lt;</span><span class="n">XMLNode</span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="o">&gt;</span><span class="w"> </span><span class="n">_unlinked</span><span class="p">;</span>

<span class="w">    </span><span class="n">MemPoolT</span><span class="o">&lt;</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">XMLElement</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w">   </span><span class="n">_elementPool</span><span class="p">;</span>
<span class="w">    </span><span class="n">MemPoolT</span><span class="o">&lt;</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">XMLAttribute</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">_attributePool</span><span class="p">;</span>
<span class="w">    </span><span class="n">MemPoolT</span><span class="o">&lt;</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">XMLText</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w">      </span><span class="n">_textPool</span><span class="p">;</span>
<span class="w">    </span><span class="n">MemPoolT</span><span class="o">&lt;</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="n">XMLComment</span><span class="p">)</span><span class="w"> </span><span class="o">&gt;</span><span class="w">   </span><span class="n">_commentPool</span><span class="p">;</span>

<span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">_errorNames</span><span class="p">[</span><span class="n">XML_ERROR_COUNT</span><span class="p">];</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">Parse</span><span class="p">();</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">SetError</span><span class="p">(</span><span class="w"> </span><span class="n">XMLError</span><span class="w"> </span><span class="n">error</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">lineNum</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">format</span><span class="p">,</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">);</span>

<span class="w">    </span><span class="c1">// Something of an obvious security hole, once it was discovered.</span>
<span class="w">    </span><span class="c1">// Either an ill-formed XML or an excessively deep one can overflow</span>
<span class="w">    </span><span class="c1">// the stack. Track stack depth, and error out if needed.</span>
<span class="w">    </span><span class="k">class</span><span class="w"> </span><span class="nc">DepthTracker</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">public</span><span class="o">:</span>
<span class="w">        </span><span class="k">explicit</span><span class="w"> </span><span class="n">DepthTracker</span><span class="p">(</span><span class="n">XMLDocument</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">document</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">this</span><span class="o">-&gt;</span><span class="n">_document</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">document</span><span class="p">;</span>
<span class="w">            </span><span class="n">document</span><span class="o">-&gt;</span><span class="n">PushDepth</span><span class="p">();</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="o">~</span><span class="n">DepthTracker</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">_document</span><span class="o">-&gt;</span><span class="n">PopDepth</span><span class="p">();</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="k">private</span><span class="o">:</span>
<span class="w">        </span><span class="n">XMLDocument</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">_document</span><span class="p">;</span>
<span class="w">    </span><span class="p">};</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">PushDepth</span><span class="p">();</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">PopDepth</span><span class="p">();</span>

<span class="w">    </span><span class="k">template</span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">NodeType</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">PoolElementSize</span><span class="o">&gt;</span>
<span class="w">    </span><span class="n">NodeType</span><span class="o">*</span><span class="w"> </span><span class="n">CreateUnlinkedNode</span><span class="p">(</span><span class="w"> </span><span class="n">MemPoolT</span><span class="o">&lt;</span><span class="n">PoolElementSize</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">pool</span><span class="w"> </span><span class="p">);</span>
<span class="p">};</span>

<span class="k">template</span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">NodeType</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">PoolElementSize</span><span class="o">&gt;</span>
<span class="kr">inline</span><span class="w"> </span><span class="n">NodeType</span><span class="o">*</span><span class="w"> </span><span class="n">XMLDocument</span><span class="o">::</span><span class="n">CreateUnlinkedNode</span><span class="p">(</span><span class="w"> </span><span class="n">MemPoolT</span><span class="o">&lt;</span><span class="n">PoolElementSize</span><span class="o">&gt;&amp;</span><span class="w"> </span><span class="n">pool</span><span class="w"> </span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">TIXMLASSERT</span><span class="p">(</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="w"> </span><span class="n">NodeType</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">PoolElementSize</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="n">TIXMLASSERT</span><span class="p">(</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="w"> </span><span class="n">NodeType</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">pool</span><span class="p">.</span><span class="n">ItemSize</span><span class="p">()</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="n">NodeType</span><span class="o">*</span><span class="w"> </span><span class="n">returnNode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="p">(</span><span class="n">pool</span><span class="p">.</span><span class="n">Alloc</span><span class="p">())</span><span class="w"> </span><span class="n">NodeType</span><span class="p">(</span><span class="w"> </span><span class="k">this</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="n">TIXMLASSERT</span><span class="p">(</span><span class="w"> </span><span class="n">returnNode</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="n">returnNode</span><span class="o">-&gt;</span><span class="n">_memPool</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">pool</span><span class="p">;</span>

<span class="w">    </span><span class="n">_unlinked</span><span class="p">.</span><span class="n">Push</span><span class="p">(</span><span class="n">returnNode</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">returnNode</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">class</span><span class="w"> </span><span class="nc">TINYXML2_LIB</span><span class="w"> </span><span class="n">XMLHandle</span>
<span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
<span class="w">    </span><span class="k">explicit</span><span class="w"> </span><span class="n">XMLHandle</span><span class="p">(</span><span class="w"> </span><span class="n">XMLNode</span><span class="o">*</span><span class="w"> </span><span class="n">node</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">_node</span><span class="p">(</span><span class="w"> </span><span class="n">node</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">explicit</span><span class="w"> </span><span class="n">XMLHandle</span><span class="p">(</span><span class="w"> </span><span class="n">XMLNode</span><span class="o">&amp;</span><span class="w"> </span><span class="n">node</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">_node</span><span class="p">(</span><span class="w"> </span><span class="o">&amp;</span><span class="n">node</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="n">XMLHandle</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">XMLHandle</span><span class="o">&amp;</span><span class="w"> </span><span class="n">ref</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">_node</span><span class="p">(</span><span class="w"> </span><span class="n">ref</span><span class="p">.</span><span class="n">_node</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="n">XMLHandle</span><span class="o">&amp;</span><span class="w"> </span><span class="k">operator</span><span class="o">=</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">XMLHandle</span><span class="o">&amp;</span><span class="w"> </span><span class="n">ref</span><span class="w"> </span><span class="p">)</span><span class="w">                            </span><span class="p">{</span>
<span class="w">        </span><span class="n">_node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ref</span><span class="p">.</span><span class="n">_node</span><span class="p">;</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="o">*</span><span class="k">this</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">XMLHandle</span><span class="w"> </span><span class="n">FirstChild</span><span class="p">()</span><span class="w">                                                  </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">XMLHandle</span><span class="p">(</span><span class="w"> </span><span class="n">_node</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">_node</span><span class="o">-&gt;</span><span class="n">FirstChild</span><span class="p">()</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="n">XMLHandle</span><span class="w"> </span><span class="n">FirstChildElement</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">)</span><span class="w">                     </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">XMLHandle</span><span class="p">(</span><span class="w"> </span><span class="n">_node</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">_node</span><span class="o">-&gt;</span><span class="n">FirstChildElement</span><span class="p">(</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="n">XMLHandle</span><span class="w"> </span><span class="n">LastChild</span><span class="p">()</span><span class="w">                                                   </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">XMLHandle</span><span class="p">(</span><span class="w"> </span><span class="n">_node</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">_node</span><span class="o">-&gt;</span><span class="n">LastChild</span><span class="p">()</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="n">XMLHandle</span><span class="w"> </span><span class="n">LastChildElement</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">)</span><span class="w">                      </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">XMLHandle</span><span class="p">(</span><span class="w"> </span><span class="n">_node</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">_node</span><span class="o">-&gt;</span><span class="n">LastChildElement</span><span class="p">(</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="n">XMLHandle</span><span class="w"> </span><span class="n">PreviousSibling</span><span class="p">()</span><span class="w">                                             </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">XMLHandle</span><span class="p">(</span><span class="w"> </span><span class="n">_node</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">_node</span><span class="o">-&gt;</span><span class="n">PreviousSibling</span><span class="p">()</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="n">XMLHandle</span><span class="w"> </span><span class="n">PreviousSiblingElement</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">)</span><span class="w">                </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">XMLHandle</span><span class="p">(</span><span class="w"> </span><span class="n">_node</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">_node</span><span class="o">-&gt;</span><span class="n">PreviousSiblingElement</span><span class="p">(</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="n">XMLHandle</span><span class="w"> </span><span class="n">NextSibling</span><span class="p">()</span><span class="w">                                                 </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">XMLHandle</span><span class="p">(</span><span class="w"> </span><span class="n">_node</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">_node</span><span class="o">-&gt;</span><span class="n">NextSibling</span><span class="p">()</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="n">XMLHandle</span><span class="w"> </span><span class="n">NextSiblingElement</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">)</span><span class="w">                    </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">XMLHandle</span><span class="p">(</span><span class="w"> </span><span class="n">_node</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">_node</span><span class="o">-&gt;</span><span class="n">NextSiblingElement</span><span class="p">(</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">XMLNode</span><span class="o">*</span><span class="w"> </span><span class="n">ToNode</span><span class="p">()</span><span class="w">                           </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">_node</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="n">XMLElement</span><span class="o">*</span><span class="w"> </span><span class="n">ToElement</span><span class="p">()</span><span class="w">                     </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">_node</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">_node</span><span class="o">-&gt;</span><span class="n">ToElement</span><span class="p">()</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="n">XMLText</span><span class="o">*</span><span class="w"> </span><span class="n">ToText</span><span class="p">()</span><span class="w">                           </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">_node</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">_node</span><span class="o">-&gt;</span><span class="n">ToText</span><span class="p">()</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="n">XMLUnknown</span><span class="o">*</span><span class="w"> </span><span class="n">ToUnknown</span><span class="p">()</span><span class="w">                     </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">_node</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">_node</span><span class="o">-&gt;</span><span class="n">ToUnknown</span><span class="p">()</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="n">XMLDeclaration</span><span class="o">*</span><span class="w"> </span><span class="n">ToDeclaration</span><span class="p">()</span><span class="w">             </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">_node</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">_node</span><span class="o">-&gt;</span><span class="n">ToDeclaration</span><span class="p">()</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="k">private</span><span class="o">:</span>
<span class="w">    </span><span class="n">XMLNode</span><span class="o">*</span><span class="w"> </span><span class="n">_node</span><span class="p">;</span>
<span class="p">};</span>


<span class="k">class</span><span class="w"> </span><span class="nc">TINYXML2_LIB</span><span class="w"> </span><span class="n">XMLConstHandle</span>
<span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
<span class="w">    </span><span class="k">explicit</span><span class="w"> </span><span class="n">XMLConstHandle</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">XMLNode</span><span class="o">*</span><span class="w"> </span><span class="n">node</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">_node</span><span class="p">(</span><span class="w"> </span><span class="n">node</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">explicit</span><span class="w"> </span><span class="n">XMLConstHandle</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">XMLNode</span><span class="o">&amp;</span><span class="w"> </span><span class="n">node</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">_node</span><span class="p">(</span><span class="w"> </span><span class="o">&amp;</span><span class="n">node</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="n">XMLConstHandle</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">XMLConstHandle</span><span class="o">&amp;</span><span class="w"> </span><span class="n">ref</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">_node</span><span class="p">(</span><span class="w"> </span><span class="n">ref</span><span class="p">.</span><span class="n">_node</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="n">XMLConstHandle</span><span class="o">&amp;</span><span class="w"> </span><span class="k">operator</span><span class="o">=</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">XMLConstHandle</span><span class="o">&amp;</span><span class="w"> </span><span class="n">ref</span><span class="w"> </span><span class="p">)</span><span class="w">                          </span><span class="p">{</span>
<span class="w">        </span><span class="n">_node</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ref</span><span class="p">.</span><span class="n">_node</span><span class="p">;</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="o">*</span><span class="k">this</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">XMLConstHandle</span><span class="w"> </span><span class="n">FirstChild</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w">                                         </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">XMLConstHandle</span><span class="p">(</span><span class="w"> </span><span class="n">_node</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">_node</span><span class="o">-&gt;</span><span class="n">FirstChild</span><span class="p">()</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">XMLConstHandle</span><span class="w"> </span><span class="n">FirstChildElement</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="w">                </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">XMLConstHandle</span><span class="p">(</span><span class="w"> </span><span class="n">_node</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">_node</span><span class="o">-&gt;</span><span class="n">FirstChildElement</span><span class="p">(</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">XMLConstHandle</span><span class="w"> </span><span class="n">LastChild</span><span class="p">()</span><span class="w">    </span><span class="k">const</span><span class="w">                                       </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">XMLConstHandle</span><span class="p">(</span><span class="w"> </span><span class="n">_node</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">_node</span><span class="o">-&gt;</span><span class="n">LastChild</span><span class="p">()</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">XMLConstHandle</span><span class="w"> </span><span class="n">LastChildElement</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="w">             </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">XMLConstHandle</span><span class="p">(</span><span class="w"> </span><span class="n">_node</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">_node</span><span class="o">-&gt;</span><span class="n">LastChildElement</span><span class="p">(</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">XMLConstHandle</span><span class="w"> </span><span class="n">PreviousSibling</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w">                                    </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">XMLConstHandle</span><span class="p">(</span><span class="w"> </span><span class="n">_node</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">_node</span><span class="o">-&gt;</span><span class="n">PreviousSibling</span><span class="p">()</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">XMLConstHandle</span><span class="w"> </span><span class="n">PreviousSiblingElement</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="w">       </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">XMLConstHandle</span><span class="p">(</span><span class="w"> </span><span class="n">_node</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">_node</span><span class="o">-&gt;</span><span class="n">PreviousSiblingElement</span><span class="p">(</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">XMLConstHandle</span><span class="w"> </span><span class="n">NextSibling</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w">                                        </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">XMLConstHandle</span><span class="p">(</span><span class="w"> </span><span class="n">_node</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">_node</span><span class="o">-&gt;</span><span class="n">NextSibling</span><span class="p">()</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">XMLConstHandle</span><span class="w"> </span><span class="n">NextSiblingElement</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="w">           </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">XMLConstHandle</span><span class="p">(</span><span class="w"> </span><span class="n">_node</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">_node</span><span class="o">-&gt;</span><span class="n">NextSiblingElement</span><span class="p">(</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>


<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">XMLNode</span><span class="o">*</span><span class="w"> </span><span class="n">ToNode</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w">               </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">_node</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">XMLElement</span><span class="o">*</span><span class="w"> </span><span class="n">ToElement</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w">         </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">_node</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">_node</span><span class="o">-&gt;</span><span class="n">ToElement</span><span class="p">()</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">XMLText</span><span class="o">*</span><span class="w"> </span><span class="n">ToText</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w">               </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">_node</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">_node</span><span class="o">-&gt;</span><span class="n">ToText</span><span class="p">()</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">XMLUnknown</span><span class="o">*</span><span class="w"> </span><span class="n">ToUnknown</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w">         </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">_node</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">_node</span><span class="o">-&gt;</span><span class="n">ToUnknown</span><span class="p">()</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">XMLDeclaration</span><span class="o">*</span><span class="w"> </span><span class="n">ToDeclaration</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">_node</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="n">_node</span><span class="o">-&gt;</span><span class="n">ToDeclaration</span><span class="p">()</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="k">private</span><span class="o">:</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">XMLNode</span><span class="o">*</span><span class="w"> </span><span class="n">_node</span><span class="p">;</span>
<span class="p">};</span>


<span class="k">class</span><span class="w"> </span><span class="nc">TINYXML2_LIB</span><span class="w"> </span><span class="n">XMLPrinter</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">public</span><span class="w"> </span><span class="n">XMLVisitor</span>
<span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
<span class="w">    </span><span class="n">XMLPrinter</span><span class="p">(</span><span class="w"> </span><span class="kt">FILE</span><span class="o">*</span><span class="w"> </span><span class="n">file</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">compact</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">depth</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="o">~</span><span class="n">XMLPrinter</span><span class="p">()</span><span class="w">   </span><span class="p">{}</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="n">PushHeader</span><span class="p">(</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">writeBOM</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">writeDeclaration</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">OpenElement</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">compactMode</span><span class="o">=</span><span class="nb">false</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">PushAttribute</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">PushAttribute</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">PushAttribute</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">PushAttribute</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="kt">int64_t</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">PushAttribute</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="kt">uint64_t</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">PushAttribute</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">PushAttribute</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">CloseElement</span><span class="p">(</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">compactMode</span><span class="o">=</span><span class="nb">false</span><span class="w"> </span><span class="p">);</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">PushText</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">text</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">cdata</span><span class="o">=</span><span class="nb">false</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">PushText</span><span class="p">(</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">PushText</span><span class="p">(</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">PushText</span><span class="p">(</span><span class="w"> </span><span class="kt">int64_t</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">PushText</span><span class="p">(</span><span class="w"> </span><span class="kt">uint64_t</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">PushText</span><span class="p">(</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">PushText</span><span class="p">(</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">PushText</span><span class="p">(</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">);</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">PushComment</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">comment</span><span class="w"> </span><span class="p">);</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">PushDeclaration</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">PushUnknown</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">);</span>

<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="nf">VisitEnter</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">XMLDocument</span><span class="o">&amp;</span><span class="w"> </span><span class="cm">/*doc*/</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="nf">VisitExit</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">XMLDocument</span><span class="o">&amp;</span><span class="w"> </span><span class="cm">/*doc*/</span><span class="w"> </span><span class="p">)</span><span class="w">            </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="nb">true</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="nf">VisitEnter</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">XMLElement</span><span class="o">&amp;</span><span class="w"> </span><span class="n">element</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">XMLAttribute</span><span class="o">*</span><span class="w"> </span><span class="n">attribute</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="nf">VisitExit</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">XMLElement</span><span class="o">&amp;</span><span class="w"> </span><span class="n">element</span><span class="w"> </span><span class="p">);</span>

<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="nf">Visit</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">XMLText</span><span class="o">&amp;</span><span class="w"> </span><span class="n">text</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="nf">Visit</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">XMLComment</span><span class="o">&amp;</span><span class="w"> </span><span class="n">comment</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="nf">Visit</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">XMLDeclaration</span><span class="o">&amp;</span><span class="w"> </span><span class="n">declaration</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="nf">Visit</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">XMLUnknown</span><span class="o">&amp;</span><span class="w"> </span><span class="n">unknown</span><span class="w"> </span><span class="p">);</span>

<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="nf">CStr</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">_buffer</span><span class="p">.</span><span class="n">Mem</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="nf">CStrSize</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">_buffer</span><span class="p">.</span><span class="n">Size</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">ClearBuffer</span><span class="p">(</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">resetToFirstElement</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">true</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">_buffer</span><span class="p">.</span><span class="n">Clear</span><span class="p">();</span>
<span class="w">        </span><span class="n">_buffer</span><span class="p">.</span><span class="n">Push</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>
<span class="w">        </span><span class="n">_firstElement</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">resetToFirstElement</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="k">protected</span><span class="o">:</span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">CompactMode</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">XMLElement</span><span class="o">&amp;</span><span class="w"> </span><span class="p">)</span><span class="w">   </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">_compactMode</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>

<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">PrintSpace</span><span class="p">(</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">depth</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">Print</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">format</span><span class="p">,</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">Write</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">size</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">Putc</span><span class="p">(</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">ch</span><span class="w"> </span><span class="p">);</span>

<span class="w">    </span><span class="kr">inline</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">Write</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">data</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">Write</span><span class="p">(</span><span class="n">data</span><span class="p">,</span><span class="w"> </span><span class="n">strlen</span><span class="p">(</span><span class="n">data</span><span class="p">));</span><span class="w"> </span><span class="p">}</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">SealElementIfJustOpened</span><span class="p">();</span>
<span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">_elementJustOpened</span><span class="p">;</span>
<span class="w">    </span><span class="n">DynArray</span><span class="o">&lt;</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">_stack</span><span class="p">;</span>

<span class="k">private</span><span class="o">:</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="n">PrepareForNewNode</span><span class="p">(</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">compactMode</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">PrintString</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">restrictedEntitySet</span><span class="w"> </span><span class="p">);</span><span class="w">  </span><span class="c1">// prints out, after detecting entities.</span>

<span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">_firstElement</span><span class="p">;</span>
<span class="w">    </span><span class="kt">FILE</span><span class="o">*</span><span class="w"> </span><span class="n">_fp</span><span class="p">;</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">_depth</span><span class="p">;</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">_textDepth</span><span class="p">;</span>
<span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">_processEntities</span><span class="p">;</span>
<span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">_compactMode</span><span class="p">;</span>

<span class="w">    </span><span class="k">enum</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">ENTITY_RANGE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">64</span><span class="p">,</span>
<span class="w">        </span><span class="n">BUF_SIZE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">200</span>
<span class="w">    </span><span class="p">};</span>
<span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">_entityFlag</span><span class="p">[</span><span class="n">ENTITY_RANGE</span><span class="p">];</span>
<span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">_restrictedEntityFlag</span><span class="p">[</span><span class="n">ENTITY_RANGE</span><span class="p">];</span>

<span class="w">    </span><span class="n">DynArray</span><span class="o">&lt;</span><span class="w"> </span><span class="kt">char</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="n">_buffer</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// Prohibit cloning, intentionally not implemented</span>
<span class="w">    </span><span class="n">XMLPrinter</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">XMLPrinter</span><span class="o">&amp;</span><span class="w"> </span><span class="p">);</span>
<span class="w">    </span><span class="n">XMLPrinter</span><span class="o">&amp;</span><span class="w"> </span><span class="k">operator</span><span class="o">=</span><span class="p">(</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">XMLPrinter</span><span class="o">&amp;</span><span class="w"> </span><span class="p">);</span>
<span class="p">};</span>


<span class="p">}</span><span class="w">   </span><span class="c1">// tinyxml2</span>

<span class="cp">#if defined(_MSC_VER)</span>
<span class="cp">#   pragma warning(pop)</span>
<span class="cp">#endif</span>

<span class="cp">#endif </span><span class="c1">// TINYXML2_INCLUDED</span>
</pre></div>
</div>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2019 - 2023 Intel Corporation.
This software and the related documents are Intel copyrighted materials, and your
use of them is governed by the express license under which they were provided to
you (License). Unless the License provides otherwise, you may not use, modify, copy,
publish, distribute, disclose or transmit this software or the related documents
without Intel&#39;s prior written permission.
This software and the related documents are provided as is, with no express or implied
warranties, other than those that are expressly stated in the License..</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>